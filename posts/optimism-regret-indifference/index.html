<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.9">
    <title>Optimism, regret and indifference—ColEx</title>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,700,400italic" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="../../css/default.css" />
    <link rel="icon" href="../../images/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="../../images/favicon.ico" type="image/x-icon" />
    <script>
     if (!location.host.startsWith('localhost')) {
       var _rollbarConfig = {
         checkIgnore: function(isUncaught, args, payload) {
           return location.host.startsWith('localhost')
         },
         accessToken: "137e3ab64049469ba4a7d5e13a6f5aeb",
         captureUncaught: true,
         payload: {
           environment: "production"
         }
       };
       !function(r){function o(n){if(e[n])return e[n].exports;var t=e[n]={exports:{},id:n,loaded:!1};return r[n].call(t.exports,t,t.exports,o),t.loaded=!0,t.exports}var e={};return o.m=r,o.c=e,o.p="",o(0)}([function(r,o,e){"use strict";var n=e(1),t=e(4);_rollbarConfig=_rollbarConfig||{},_rollbarConfig.rollbarJsUrl=_rollbarConfig.rollbarJsUrl||"https://cdnjs.cloudflare.com/ajax/libs/rollbar.js/2.3.1/rollbar.min.js",_rollbarConfig.async=void 0===_rollbarConfig.async||_rollbarConfig.async;var a=n.setupShim(window,_rollbarConfig),l=t(_rollbarConfig);window.rollbar=n.Rollbar,a.loadFull(window,document,!_rollbarConfig.async,_rollbarConfig,l)},function(r,o,e){"use strict";function n(r){return function(){try{return r.apply(this,arguments)}catch(r){try{console.error("[Rollbar]: Internal error",r)}catch(r){}}}}function t(r,o){this.options=r,this._rollbarOldOnError=null;var e=s++;this.shimId=function(){return e},window&&window._rollbarShims&&(window._rollbarShims[e]={handler:o,messages:[]})}function a(r,o){var e=o.globalAlias||"Rollbar";if("object"==typeof r[e])return r[e];r._rollbarShims={},r._rollbarWrappedError=null;var t=new p(o);return n(function(){o.captureUncaught&&(t._rollbarOldOnError=r.onerror,i.captureUncaughtExceptions(r,t,!0),i.wrapGlobals(r,t,!0)),o.captureUnhandledRejections&&i.captureUnhandledRejections(r,t,!0);var n=o.autoInstrument;return(void 0===n||n===!0||"object"==typeof n&&n.network)&&r.addEventListener&&(r.addEventListener("load",t.captureLoad.bind(t)),r.addEventListener("DOMContentLoaded",t.captureDomContentLoaded.bind(t))),r[e]=t,t})()}function l(r){return n(function(){var o=this,e=Array.prototype.slice.call(arguments,0),n={shim:o,method:r,args:e,ts:new Date};window._rollbarShims[this.shimId()].messages.push(n)})}var i=e(2),s=0,d=e(3),c=function(r,o){return new t(r,o)},p=d.bind(null,c);t.prototype.loadFull=function(r,o,e,t,a){var l=function(){var o;if(void 0===r._rollbarDidLoad){o=new Error("rollbar.js did not load");for(var e,n,t,l,i=0;e=r._rollbarShims[i++];)for(e=e.messages||[];n=e.shift();)for(t=n.args||[],i=0;i<t.length;++i)if(l=t[i],"function"==typeof l){l(o);break}}"function"==typeof a&&a(o)},i=!1,s=o.createElement("script"),d=o.getElementsByTagName("script")[0],c=d.parentNode;s.crossOrigin="",s.src=t.rollbarJsUrl,e||(s.async=!0),s.onload=s.onreadystatechange=n(function(){if(!(i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){s.onload=s.onreadystatechange=null;try{c.removeChild(s)}catch(r){}i=!0,l()}}),c.insertBefore(s,d)},t.prototype.wrap=function(r,o,e){try{var n;if(n="function"==typeof o?o:function(){return o||{}},"function"!=typeof r)return r;if(r._isWrap)return r;if(!r._rollbar_wrapped&&(r._rollbar_wrapped=function(){e&&"function"==typeof e&&e.apply(this,arguments);try{return r.apply(this,arguments)}catch(e){var o=e;throw"string"==typeof o&&(o=new String(o)),o._rollbarContext=n()||{},o._rollbarContext._wrappedSource=r.toString(),window._rollbarWrappedError=o,o}},r._rollbar_wrapped._isWrap=!0,r.hasOwnProperty))for(var t in r)r.hasOwnProperty(t)&&(r._rollbar_wrapped[t]=r[t]);return r._rollbar_wrapped}catch(o){return r}};for(var u="log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleUnhandledRejection,captureDomContentLoaded,captureLoad".split(","),f=0;f<u.length;++f)t.prototype[u[f]]=l(u[f]);r.exports={setupShim:a,Rollbar:p}},function(r,o){"use strict";function e(r,o,e){if(r){var t;"function"==typeof o._rollbarOldOnError?t=o._rollbarOldOnError:r.onerror&&!r.onerror.belongsToShim&&(t=r.onerror,o._rollbarOldOnError=t);var a=function(){var e=Array.prototype.slice.call(arguments,0);n(r,o,t,e)};a.belongsToShim=e,r.onerror=a}}function n(r,o,e,n){r._rollbarWrappedError&&(n[4]||(n[4]=r._rollbarWrappedError),n[5]||(n[5]=r._rollbarWrappedError._rollbarContext),r._rollbarWrappedError=null),o.handleUncaughtException.apply(o,n),e&&e.apply(r,n)}function t(r,o,e){if(r){"function"==typeof r._rollbarURH&&r._rollbarURH.belongsToShim&&r.removeEventListener("unhandledrejection",r._rollbarURH);var n=function(r){var e=r.reason,n=r.promise,t=r.detail;!e&&t&&(e=t.reason,n=t.promise),o&&o.handleUnhandledRejection&&o.handleUnhandledRejection(e,n)};n.belongsToShim=e,r._rollbarURH=n,r.addEventListener("unhandledrejection",n)}}function a(r,o,e){if(r){var n,t,a="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(n=0;n<a.length;++n)t=a[n],r[t]&&r[t].prototype&&l(o,r[t].prototype,e)}}function l(r,o,e){if(o.hasOwnProperty&&o.hasOwnProperty("addEventListener")){for(var n=o.addEventListener;n._rollbarOldAdd&&n.belongsToShim;)n=n._rollbarOldAdd;var t=function(o,e,t){n.call(this,o,r.wrap(e),t)};t._rollbarOldAdd=n,t.belongsToShim=e,o.addEventListener=t;for(var a=o.removeEventListener;a._rollbarOldRemove&&a.belongsToShim;)a=a._rollbarOldRemove;var l=function(r,o,e){a.call(this,r,o&&o._rollbar_wrapped||o,e)};l._rollbarOldRemove=a,l.belongsToShim=e,o.removeEventListener=l}}r.exports={captureUncaughtExceptions:e,captureUnhandledRejections:t,wrapGlobals:a}},function(r,o){"use strict";function e(r,o){this.impl=r(o,this),this.options=o,n(e.prototype)}function n(r){for(var o=function(r){return function(){var o=Array.prototype.slice.call(arguments,0);if(this.impl[r])return this.impl[r].apply(this.impl,o)}},e="log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleUnhandledRejection,_createItem,wrap,loadFull,shimId,captureDomContentLoaded,captureLoad".split(","),n=0;n<e.length;n++)r[e[n]]=o(e[n])}e.prototype._swapAndProcessMessages=function(r,o){this.impl=r(this.options);for(var e,n,t;e=o.shift();)n=e.method,t=e.args,this[n]&&"function"==typeof this[n]&&("captureDomContentLoaded"===n||"captureLoad"===n?this[n].apply(this,[t[0],e.ts]):this[n].apply(this,t));return this},r.exports=e},function(r,o){"use strict";r.exports=function(r){return function(o){if(!o&&!window._rollbarInitialized){r=r||{};for(var e,n,t=r.globalAlias||"Rollbar",a=window.rollbar,l=function(r){return new a(r)},i=0;e=window._rollbarShims[i++];)n||(n=e.handler),e.handler._swapAndProcessMessages(l,e.messages);window[t]=n,window._rollbarInitialized=!0}}}}]);
     }
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-113913768-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-113913768-1');
    </script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          displayAlign: "left",
          displayIndent: "2em"
        });
    </script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_SVG"></script>

    
  <link rel="stylesheet" type="text/css" href="../../css/decision-demos.css" />


</head>
<body>
<div id="underlay">
<nav><a href="../../">Home</a></nav>
<main><article>
  <h2 id="article-title">Optimism, regret and indifference</h2>
  
    <h3 id="article-subtitle">Remaining decision rules for decisions under ignorance</h3>
  
  <div class="metadata">
  <nav class="tags"><ul>
    
      <li><a href="../../tag/decision%2520theory/">decision theory</a></li>
    
      <li><a href="../../tag/interactive/">interactive</a></li>
    
      <li><a href="../../tag/yaas/">yaas</a></li>
    
</ul></nav>

  
    <nav><a class="series" href="../../series/An%2520Introduction%2520to%2520Decision%2520Theory/">Series: An Introduction to Decision Theory</a></nav>
  
  <span class="date">Published on <time datetime="2019-06-11">June 11, 2019</time>.</span>
  
  </div>
  
  

  

  
<div class="toc"><h5>Contents</h5>
<ul>
<li><a href="#optimism-pessimism">Optimism-pessimism</a><ul>
<li><a href="#prose">Prose</a></li>
<li><a href="#example">Example</a></li>
<li><a href="#interactive">Interactive</a></li>
<li><a href="#code">Code</a></li>
<li><a href="#math">Math</a></li>
</ul></li>
<li><a href="#minimax-regret">Minimax regret</a><ul>
<li><a href="#prose-1">Prose</a></li>
<li><a href="#example-1">Example</a><ul>
<li><a href="#irrelevant-alternatives">Irrelevant alternatives</a></li>
</ul></li>
<li><a href="#interactive-1">Interactive</a></li>
<li><a href="#code-1">Code</a></li>
<li><a href="#math-1">Math</a></li>
</ul></li>
<li><a href="#indifference">Indifference</a><ul>
<li><a href="#prose-2">Prose</a></li>
<li><a href="#example-2">Example</a></li>
<li><a href="#interactive-2">Interactive</a></li>
<li><a href="#code-2">Code</a></li>
<li><a href="#math-2">Math</a></li>
</ul></li>
</ul>
</div>
<p><a href="../../posts/priority-decisions/">Last time</a>, we <a href="../../posts/dominated-decisions/">continued</a> our discussion of decision rules that apply in information-poor settings. In particular, we’ve been focusing on “decisions under ignorance”—decisions where the probabilities associated with various states of the world are unknown.</p>
<p>This time, we’ll look at three final decision rules in this category.</p>
<h3 id="optimism-pessimism">Optimism-pessimism</h3>
<p>The first decision rule we’ll look at is the optimism-pessimism rule.</p>
<h4 id="prose">Prose</h4>
<p>Conceptually, optimism-pessimism is a generalization of the <a href="../../posts/priority-decisions/#maximin">maximin</a> and <a href="../../posts/priority-decisions/#maximax">maximax</a> rules. The maximin rule tells us to make the decision which has the best worst case outcome. The maximax rule tells us to make the decision which has the best best case outcome.</p>
<p>The optimism-pessimism rule tells us to look at both the best outcome which may come to pass after taking a particular action and the worst outcome which may come to pass. Then we should take a weighted average of the best and worst case outcome for each action and take the action that has the best such average. The weighting used in the decision rule is a parameter that the decision maker is free to choose based on how optimistic or pessimistic they are. So really the optimism-pessimism rule is a family of rules parameterized by a weighting factor.</p>
<p>Also, it’s worth noting that the optimism-pessimism family of rules no longer work in the fully general setting we were working with in previous posts. While we still don’t have probabilities associated with states of the world, we will need to move from an <a href="https://en.wikipedia.org/wiki/Level_of_measurement">ordinal scale</a> of outcomes to an <a href="https://en.wikipedia.org/wiki/Level_of_measurement">interval scale</a>. This shift is necessary because it doesn’t make sense to take a weighted average of ordinal data.</p>
<h4 id="example">Example</h4>
<p>You have the choice of two alternative routes to work. In good conditions, the first route takes 10 minutes and the second route 5 minutes. But the second route is prone to traffic and on bad days takes 20 minutes while the first route still takes 10 minutes.</p>
<figure>
<figcaption>
Decision matrix about route to work.
</figcaption>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">High traffic day</th>
<th style="text-align: left;">Low traffic day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Route 1</td>
<td style="text-align: left;">10 minutes</td>
<td style="text-align: left;">10 minutes</td>
</tr>
<tr class="even">
<td style="text-align: left;">Route 2</td>
<td style="text-align: left;">20 minutes</td>
<td style="text-align: left;">5 minutes</td>
</tr>
</tbody>
</table>
</figure>
<p>If you’re perfectly balanced between optimism and pessimism, the optimism-pessimism rule is indifferent between the two routes here. If you’re more pessimistic than you are optimistic, you should take route 1–just like in maximin. If you’re more optimistic than you are pessimistic, you should take route 2–just like in maximax.</p>
<!--more-->
<h4 id="interactive">Interactive</h4>
<p>If the above description isn’t sufficient, try poking around with this interactive analysis. The analysis will update whenever you stop editing text and defocus the text area or whenever you update the optimism parameter.</p>
<p>(The fact that we’ve shifted from strings to numbers in the cells is a reflection of our shift from an ordinal scale to an interval scale.)</p>
<p>Optimism: <input id="optimism-pessimism-alpha" min="0" max="1" step="0.1" type="number" value="0.5" /></p>
<textarea id="optimism-pessimism-table" class="decision-table">
|          | State 1 | State 2 | State 3|
|----------|---------|---------|--------|
| Action 1 | 4       | 5       | 6      |
| Action 2 | 3       | 5       | 8      |
| Action 3 | 1       | 5       | 9      |
</textarea>
<div id="optimism-pessimism-analysis">
<ul>
<li>Action 1 beats Action 3</li>
<li>Action 2 beats Action 1</li>
<li>Action 2 beats Action 3</li>
<li>Action 3 beats Action 1</li>
</ul>
</div>
<h4 id="code">Code</h4>
<p>We can also explain the optimism-pessimism family of rules with their implementing source code:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" title="1"><span class="ot">optimismPessimism ::</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="kw">forall</span> n cell<span class="op">.</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="dt">Ord</span> cell <span class="ot">=&gt;</span> <span class="dt">Semiring</span> cell <span class="ot">=&gt;</span> <span class="dt">Ring</span> n <span class="ot">=&gt;</span></a>
<a class="sourceLine" id="cb1-4" title="4">  (n <span class="ot">-&gt;</span> cell) <span class="ot">-&gt;</span> <span class="dt">Proportion</span> n <span class="ot">-&gt;</span> <span class="dt">PairOfRows</span> cell <span class="ot">-&gt;</span> <span class="dt">Boolean</span></a>
<a class="sourceLine" id="cb1-5" title="5">optimismPessimism toCell α rows <span class="ot">=</span> value row1 <span class="op">&gt;=</span> value row2</a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="kw">where</span></a>
<a class="sourceLine" id="cb1-7" title="7">    value row <span class="ot">=</span></a>
<a class="sourceLine" id="cb1-8" title="8">      toCell (Proportion.unMk α) <span class="op">*</span> Foldable1.maximum row <span class="op">+</span></a>
<a class="sourceLine" id="cb1-9" title="9">      toCell (one <span class="op">-</span> Proportion.unMk α) <span class="op">*</span> Foldable1.minimum row</a>
<a class="sourceLine" id="cb1-10" title="10">    <span class="dt">Tuple</span> row1 row2 <span class="ot">=</span> unzipNeMultiSet rows</a></code></pre></div>
<p><code>α</code> is the optimism parameter and <code>toCell</code> is a way of harmonizing its type with the <code>cell</code> type. Interestingly, we have leaped all the way from requiring <code>cell</code> only to be orderable—in maximin and maximax—to requiring that <code>cell</code> be a <a href="https://en.wikipedia.org/wiki/Semiring">semiring</a>—taking a weighted average requires the ability to both multiply and add.</p>
<h4 id="math">Math</h4>
<p>We can also describe the optimism-pessimism decision rules <span class="math inline">\(\preccurlyeq_{OptPes}\)</span> in symbols:</p>
<p><span class="math display">\[a_i \preccurlyeq_{OptPes} a_j \leftrightarrow \alpha \cdot \max_{s \in S} v(a_i, s) + (1 - \alpha) \cdot \min_{s \in S} v(a_i, s) \leq \alpha \cdot \max_{s \in S} v(a_j, s) + (1 - \alpha) \cdot \min_{s \in S} v(a_j, s)\]</span></p>
<p>where <span class="math inline">\(\alpha\)</span> is the weight controlling optimism vs. pessimism, <span class="math inline">\(a_i\)</span> and <span class="math inline">\(a_j\)</span> represent the ith and jth action, <span class="math inline">\(s\)</span> is a particular state of the world from the set <span class="math inline">\(S\)</span> of all states, and <span class="math inline">\(v : A \times S \to V\)</span> is a function mapping an action in a particular state of the world to an element in the interval scale of values <span class="math inline">\(V\)</span>.</p>
<h3 id="minimax-regret">Minimax regret</h3>
<h4 id="prose-1">Prose</h4>
<p>Regret is the difference between your actual outcome and the outcome you could have achieved if you had predicted the best possible action. If it took you 10 minutes to get to work and then you find that another route would have taken you only 5 minutes, you have 5 minutes worth of regret.</p>
<p>Minimax regret counsels that you take the action which minimizes the amount of regret you have in the least favorable state of the world—minimize your maximum regret.</p>
<p>Again we lose a bit of generality as our outcomes must be measured on an interval scale (to support computing regrets) rather than an ordinal scale.</p>
<p>The other point worth making is that we have lost a property known as <a href="https://en.wikipedia.org/wiki/Independence_of_irrelevant_alternatives">independence of irrelevant alternatives</a>. Suppose we are making a decision and only have actions A and B available. Furthermore, suppose minimax regret says that the best action is A. If we add a third action C that is worse than both A and B (in minimax regret terms), minimax regret may now insist that action B is best. This is pretty weird! We’ll look at an example below.</p>
<h4 id="example-1">Example</h4>
<p>Suppose you’re choosing between routes to work again:</p>
<figure>
<figcaption>
Decision matrix about route to work. Preferred action in bold.
</figcaption>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">High traffic day</th>
<th style="text-align: left;">Low traffic day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Route 1</strong></td>
<td style="text-align: left;">20 minutes</td>
<td style="text-align: left;">20 minutes</td>
</tr>
<tr class="even">
<td style="text-align: left;">Route 2</td>
<td style="text-align: left;">30 minutes</td>
<td style="text-align: left;">15 minutes</td>
</tr>
</tbody>
</table>
</figure>
<p>With a scenario like this, minimax regret demands that you take the first route. To see why, we’ll first transform the table into a table of regrets:</p>
<figure>
<figcaption>
Table of regrets corresponding to table immediately above.
</figcaption>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">High traffic day</th>
<th style="text-align: left;">Low traffic day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Route 1</strong></td>
<td style="text-align: left;">0 minutes</td>
<td style="text-align: left;">5 minutes</td>
</tr>
<tr class="even">
<td style="text-align: left;">Route 2</td>
<td style="text-align: left;">10 minutes</td>
<td style="text-align: left;">0 minutes</td>
</tr>
</tbody>
</table>
</figure>
<p>When we perform minimax on this table, it’s clear that the first route is preferable. Our worst case regret is only five minutes while our worst case regret for the second route is 10 minutes.</p>
<h5 id="irrelevant-alternatives">Irrelevant alternatives</h5>
<p>Suppose that we discover a third possible route to work. If we follow the minimax regret rule, this might cause us to switch from route 1 to route 2:</p>
<figure>
<figcaption>
Decision matrix about route to work. Preferred action in bold.
</figcaption>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">High traffic day</th>
<th style="text-align: left;">Low traffic day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Route 1</td>
<td style="text-align: left;">20 minutes</td>
<td style="text-align: left;">20 minutes</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Route 2</strong></td>
<td style="text-align: left;">30 minutes</td>
<td style="text-align: left;">15 minutes</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Route 3</td>
<td style="text-align: left;">40 minutes</td>
<td style="text-align: left;">5 minutes</td>
</tr>
</tbody>
</table>
</figure>
<figure>
<figcaption>
Table of regrets corresponding to table immediately above.
</figcaption>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">High traffic day</th>
<th style="text-align: left;">Low traffic day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Route 1</td>
<td style="text-align: left;">0 minutes</td>
<td style="text-align: left;">15 minutes</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Route 2</strong></td>
<td style="text-align: left;">10 minutes</td>
<td style="text-align: left;">10 minutes</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Route 3</td>
<td style="text-align: left;">20 minutes</td>
<td style="text-align: left;">0 minutes</td>
</tr>
</tbody>
</table>
</figure>
<p>Because route 3 is even faster than route 2 on low traffic days, it further increases route 1’s maximum regret. It also increases route 2’s regret on low traffic days but doesn’t increase route 2’s <em>maximum</em> regret.</p>
<h4 id="interactive-1">Interactive</h4>
<p>If the above description isn’t sufficient, try poking around with this interactive analysis. The analysis will update whenever you stop editing text and defocus the text area.</p>
<textarea id="minimax-regret-table" class="decision-table">
|          | State 1 | State 2 | State 3|
|----------|---------|---------|--------|
| Action 1 | 4       | 5       | 6      |
| Action 2 | 3       | 5       | 8      |
| Action 3 | 1       | 5       | 9      |
</textarea>
<p>Best actions:</p>
<div id="minimax-regret-analysis">
<ul>
<li>Action 2</li>
</ul>
</div>
<h4 id="code-1">Code</h4>
<p>The code itself is a bit too ugly to be illuminating in this case, but the type signature does have a few things worth pointing out.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" title="1"><span class="ot">minimaxRegret ::</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="kw">forall</span> rowId columnId cell<span class="op">.</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="dt">Hashable</span> cell <span class="ot">=&gt;</span> <span class="dt">Hashable</span> columnId <span class="ot">=&gt;</span> <span class="dt">Hashable</span> rowId <span class="ot">=&gt;</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="dt">Ord</span> cell <span class="ot">=&gt;</span> <span class="dt">Ring</span> cell <span class="ot">=&gt;</span></a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="dt">Table</span> rowId columnId cell <span class="ot">-&gt;</span> <span class="dt">NonEmpty</span> <span class="dt">HashSet</span> rowId</a></code></pre></div>
<p>First, <code>cell</code> must now be a <a href="https://en.wikipedia.org/wiki/Ring_(mathematics)">ring</a> which is a bit stronger than the semiring requirement of optimism-pessimism. This is because computing regrets requires subtraction.</p>
<p>Second, the decision rule no longer operates on a pair of rows. In all our previous decision rules, we described the decision scenario with <code>PairOfRows cell</code>—independence of irrelevant alternatives meant that any context from other actions was irrelevant to the verdict. Here we must take a full <code>Table</code> because the verdict <code>minimaxRegret</code> returns for two rows may depend on some third row not under active consideration. This is the price we pay for losing independence of irrelevant alternatives.</p>
<h4 id="math-1">Math</h4>
<p>We can also describe the minimax regret decision rule <span class="math inline">\(\preccurlyeq_{Reg}\)</span> in symbols:</p>
<p><span class="math display">\[a_i \preccurlyeq_{Reg} a_j \leftrightarrow \max_{s \in S}(\max_{a \in A} v(a, s) - v(a_i, s)) \geq \max_{s \in S}(\max_{a \in A} v(a, s) - v(a_j, s))\]</span></p>
<p>where <span class="math inline">\(a_i\)</span> and <span class="math inline">\(a_j\)</span> represent the ith and jth action, <span class="math inline">\(s\)</span> is a particular state of the world from the set <span class="math inline">\(S\)</span> of all states, <span class="math inline">\(a\)</span> is an action from the set <span class="math inline">\(A\)</span> of all actions, <span class="math inline">\(v : A \times S \to V\)</span> is a function mapping an action in a particular state of the world to an element in the interval scale of value <span class="math inline">\(V\)</span>.</p>
<p>We see the entrance of irrelevant alternatives here in that we have a <span class="math inline">\(\max_{a \in A}\)</span> term for the first time. We’re no longer looking at <span class="math inline">\(a_i\)</span> and <span class="math inline">\(a_j\)</span> in isolation.</p>
<h3 id="indifference">Indifference</h3>
<h4 id="prose-2">Prose</h4>
<p>The final rule we’ll look at is <a href="https://en.wikipedia.org/wiki/Principle_of_indifference">the principle of indifference</a>, also sometimes called “the principle of insufficient reason”.</p>
<p>We’ve emphasized throughout that we’re working in a fairly general setting with limited information. What if we just pretended we weren’t? If we had probabilities associated with states of the world, we could just use good old expected value maximization as our decision rule. The principle of indifference says that in the absence of information to the contrary, we should just assign equal probabilities to all states of the world. Then we can proceed with expected value maximization.</p>
<p>Of course, there are problems with explicitly representing our ignorance probabilistically. Which we’ve in fact already <a href="../../posts/list-problems-ignorant-priors/">discussed</a>.</p>
<h4 id="example-2">Example</h4>
<p>Suppose you’re choosing between routes to work again:</p>
<figure>
<figcaption>
Decision matrix about route to work. Preferred action in bold.
</figcaption>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">High traffic day</th>
<th style="text-align: left;">Low traffic day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Route 1</strong></td>
<td style="text-align: left;">10 minutes</td>
<td style="text-align: left;">10 minutes</td>
</tr>
<tr class="even">
<td style="text-align: left;">Route 2</td>
<td style="text-align: left;">20 minutes</td>
<td style="text-align: left;">5 minutes</td>
</tr>
</tbody>
</table>
</figure>
<p>Because there are only two possible states of the world and we’re pretending we have no probabilities associated with these states, the principle of indifference tells us to assign a probability of 1/2 to each state. Once we do, the expected value calculation is straightforward and favors the first route.</p>
<figure>
<figcaption>
Decision matrix about route to work after assigning probabilities. Preferred action in bold.
</figcaption>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">High traffic; p=0.5</th>
<th style="text-align: left;">Low traffic; p=0.5</th>
<th style="text-align: left;">Expected time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Route 1</strong></td>
<td style="text-align: left;">10 minutes</td>
<td style="text-align: left;">10 minutes</td>
<td style="text-align: left;">10</td>
</tr>
<tr class="even">
<td style="text-align: left;">Route 2</td>
<td style="text-align: left;">20 minutes</td>
<td style="text-align: left;">5 minutes</td>
<td style="text-align: left;">12.5</td>
</tr>
</tbody>
</table>
</figure>
<h4 id="interactive-2">Interactive</h4>
<p>If the above description isn’t sufficient, try poking around with this interactive analysis. The analysis will update whenever you stop editing text and defocus the text area. (<a href="https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems">Floating point foolishness</a> possible.)</p>
<textarea id="indifference-table" class="decision-table">
|          | State 1 | State 2 | State 3|
|----------|---------|---------|--------|
| Action 1 | 0       | 5       | 6      |
| Action 2 | 3       | 5       | 8      |
| Action 3 | 1       | 5       | 9      |
</textarea>
<div id="indifference-analysis">
<ul>
<li>Action 2 beats Action 1</li>
<li>Action 2 beats Action 3</li>
<li>Action 3 beats Action 1</li>
</ul>
</div>
<h4 id="code-2">Code</h4>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb3-1" title="1"><span class="ot">indifference ::</span></a>
<a class="sourceLine" id="cb3-2" title="2">  <span class="kw">forall</span> cell<span class="op">.</span></a>
<a class="sourceLine" id="cb3-3" title="3">  <span class="dt">Hashable</span> cell <span class="ot">=&gt;</span></a>
<a class="sourceLine" id="cb3-4" title="4">  <span class="dt">Ord</span> cell <span class="ot">=&gt;</span> <span class="dt">Semiring</span> cell <span class="ot">=&gt;</span></a>
<a class="sourceLine" id="cb3-5" title="5">  (<span class="dt">Proportion</span> <span class="dt">Number</span> <span class="ot">-&gt;</span> cell) <span class="ot">-&gt;</span> <span class="dt">PairOfRows</span> cell <span class="ot">-&gt;</span> <span class="dt">Boolean</span></a>
<a class="sourceLine" id="cb3-6" title="6">indifference toCell rows <span class="ot">=</span></a>
<a class="sourceLine" id="cb3-7" title="7">  maximizesExpectedUtility toCell <span class="op">&lt;&lt;&lt;</span></a>
<a class="sourceLine" id="cb3-8" title="8">  neMultiSetMap (<span class="dt">Tuple</span> prob) <span class="op">$</span> rows</a>
<a class="sourceLine" id="cb3-9" title="9">  <span class="kw">where</span></a>
<a class="sourceLine" id="cb3-10" title="10">    prob <span class="ot">=</span> unsafeMkHashProp <span class="op">$</span> <span class="fl">1.0</span> <span class="op">/</span> <span class="dt">Int</span><span class="op">.</span>toNumber (<span class="dt">Foldable</span><span class="op">.</span><span class="fu">length</span> rows)</a></code></pre></div>
<p>Note that we’re back to only requiring <code>Semiring</code> of <code>cell</code> and taking pairs of rows at a time instead of a whole table—thanks independence of irrelevant alternatives!</p>
<h4 id="math-2">Math</h4>
<p>We can also describe the indifference decision rule <span class="math inline">\(\preccurlyeq_{Ind}\)</span> in symbols:</p>
<p><span class="math display">\[a_i \preccurlyeq_{Ind} a_j \leftrightarrow \sum_{x=1}^{n} \frac{1}{n} v(a_i, s_x) \leq \sum_{x=1}^{n} \frac{1}{n} v(a_j, s_x)\]</span></p>
<p>where <span class="math inline">\(a_i\)</span> and <span class="math inline">\(a_j\)</span> represent the ith and jth action, <span class="math inline">\(n\)</span> is the number of states of the world, <span class="math inline">\(s_x\)</span> is a particular state of the world selected by index <span class="math inline">\(x\)</span>, and <span class="math inline">\(v : A \times S \to V\)</span> is a function mapping an action in a particular state of the world to an element in the interval scale of values <span class="math inline">\(V\)</span>.</p>
</article></main>

</div>




<script defer type="text/javascript" src="../../js/custom-elements.js"></script>

<script defer type="text/javascript" src="../../js/vendors~arg-map~custom-elements~util-egal.js"></script>


<script defer type="text/javascript" src="../../js/decision-demos.js"></script>


  </body>
</html>
