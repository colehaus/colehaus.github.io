!function(n){function r(r){for(var e,i,u=r[0],f=r[1],c=r[2],s=0,m=[];s<u.length;s++)i=u[s],o[i]&&m.push(o[i][0]),o[i]=0;for(e in f)Object.prototype.hasOwnProperty.call(f,e)&&(n[e]=f[e]);for(l&&l(r);m.length;)m.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var n,r=0;r<a.length;r++){for(var t=a[r],e=!0,u=1;u<t.length;u++){var f=t[u];0!==o[f]&&(e=!1)}e&&(a.splice(r--,1),n=i(i.s=t[0]))}return n}var e={},o={4:0},a=[];function i(r){if(e[r])return e[r].exports;var t=e[r]={i:r,l:!1,exports:{}};return n[r].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=e,i.d=function(n,r,t){i.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:t})},i.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,r){if(1&r&&(n=i(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var e in n)i.d(t,e,function(r){return n[r]}.bind(null,e));return t},i.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(r,"a",r),r},i.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},i.p="";var u=window.webpackJsonp=window.webpackJsonp||[],f=u.push.bind(u);u.push=r,u=u.slice();for(var c=0;c<u.length;c++)r(u[c]);var l=f;a.push([173,0,1]),t()}({11:function(n,t,e){n.exports=function(){var n=function(n,r){var t=Array.prototype.concat,e=Array.prototype.slice,o=Object.prototype.toString;function a(r,t){var e=r>t?r:t;return n.pow(10,17-~~(n.log(e>0?e:-e)*n.LOG10E))}var u=Array.isArray||function(n){return"[object Array]"===o.call(n)};function f(n){return"[object Function]"===o.call(n)}function c(n){return"number"==typeof n&&n==n}function l(){return new l._init(arguments)}function s(){return 0}function m(){return 1}function p(n,r){return n===r?1:0}l.fn=l.prototype,l._init=function(n){if(u(n[0]))if(u(n[0][0])){f(n[1])&&(n[0]=l.map(n[0],n[1]));for(var r=0;r<n[0].length;r++)this[r]=n[0][r];this.length=n[0].length}else this[0]=f(n[1])?l.map(n[0],n[1]):n[0],this.length=1;else if(c(n[0]))this[0]=l.seq.apply(null,n),this.length=1;else{if(n[0]instanceof l)return l(n[0].toArray());this[0]=[],this.length=1}return this},l._init.prototype=l.prototype,l._init.constructor=l,l.utils={calcRdx:a,isArray:u,isFunction:f,isNumber:c,toVector:function(n){return t.apply([],n)}},l.extend=function(n){var r;if(1===arguments.length){for(r in n)l[r]=n[r];return this}for(var t=1;t<arguments.length;t++)for(r in arguments[t])n[r]=arguments[t][r];return n},l.rows=function(n){return n.length||1},l.cols=function(n){return n[0].length||1},l.dimensions=function(n){return{rows:l.rows(n),cols:l.cols(n)}},l.row=function(n,r){return u(r)?r.map(function(r){return l.row(n,r)}):n[r]},l.rowa=function(n,r){return l.row(n,r)},l.col=function(n,r){if(u(r)){var t=l.arange(n.length).map(function(n){return new Array(r.length)});return r.forEach(function(r,e){l.arange(n.length).forEach(function(o){t[o][e]=n[o][r]})}),t}for(var e=new Array(n.length),o=0;o<n.length;o++)e[o]=[n[o][r]];return e},l.cola=function(n,r){return l.col(n,r).map(function(n){return n[0]})},l.diag=function(n){for(var r=l.rows(n),t=new Array(r),e=0;e<r;e++)t[e]=[n[e][e]];return t},l.antidiag=function(n){for(var r=l.rows(n)-1,t=new Array(r),e=0;r>=0;r--,e++)t[e]=[n[e][r]];return t},l.transpose=function(n){var r,t,e,o,a=[];u(n[0])||(n=[n]),t=n.length,e=n[0].length;for(var i=0;i<e;i++){for(r=new Array(t),o=0;o<t;o++)r[o]=n[o][i];a.push(r)}return 1===a.length?a[0]:a},l.map=function(n,r,t){var e,o,a,i,f;for(u(n[0])||(n=[n]),o=n.length,a=n[0].length,i=t?n:new Array(o),e=0;e<o;e++)for(i[e]||(i[e]=new Array(a)),f=0;f<a;f++)i[e][f]=r(n[e][f],e,f);return 1===i.length?i[0]:i},l.cumreduce=function(n,r,t){var e,o,a,i,f;for(u(n[0])||(n=[n]),o=n.length,a=n[0].length,i=t?n:new Array(o),e=0;e<o;e++)for(i[e]||(i[e]=new Array(a)),a>0&&(i[e][0]=n[e][0]),f=1;f<a;f++)i[e][f]=r(i[e][f-1],n[e][f]);return 1===i.length?i[0]:i},l.alter=function(n,r){return l.map(n,r,!0)},l.create=function(n,r,t){var e,o=new Array(n);f(r)&&(t=r,r=n);for(var a=0;a<n;a++)for(o[a]=new Array(r),e=0;e<r;e++)o[a][e]=t(a,e);return o},l.zeros=function(n,r){return c(r)||(r=n),l.create(n,r,s)},l.ones=function(n,r){return c(r)||(r=n),l.create(n,r,m)},l.rand=function(r,t){return c(t)||(t=r),l.create(r,t,n.random)},l.identity=function(n,r){return c(r)||(r=n),l.create(n,r,p)},l.symmetric=function(n){var r,t,e=n.length;if(n.length!==n[0].length)return!1;for(r=0;r<e;r++)for(t=0;t<e;t++)if(n[t][r]!==n[r][t])return!1;return!0},l.clear=function(n){return l.alter(n,s)},l.seq=function(n,r,t,e){f(e)||(e=!1);var o,i=[],u=a(n,r),c=(r*u-n*u)/((t-1)*u),l=n;for(o=0;l<=r&&o<t;l=(n*u+c*u*++o)/u)i.push(e?e(l,o):l);return i},l.arange=function(n,t,e){var o=[];if(e=e||1,t===r&&(t=n,n=0),n===t||0===e)return[];if(n<t&&e<0)return[];if(n>t&&e>0)return[];if(e>0)for(i=n;i<t;i+=e)o.push(i);else for(i=n;i>t;i+=e)o.push(i);return o},l.slice=function(){function n(n,t,e,o){var a,i=[],u=n.length;if(t===r&&e===r&&o===r)return l.copy(n);if(t=t||0,e=e||n.length,o=o||1,(t=t>=0?t:u+t)===(e=e>=0?e:u+e)||0===o)return[];if(t<e&&o<0)return[];if(t>e&&o>0)return[];if(o>0)for(a=t;a<e;a+=o)i.push(n[a]);else for(a=t;a>e;a+=o)i.push(n[a]);return i}return function(r,t){if(c((t=t||{}).row)){if(c(t.col))return r[t.row][t.col];var e=l.rowa(r,t.row),o=t.col||{};return n(e,o.start,o.end,o.step)}if(c(t.col)){var a=l.cola(r,t.col),i=t.row||{};return n(a,i.start,i.end,i.step)}var i=t.row||{},o=t.col||{};return n(r,i.start,i.end,i.step).map(function(r){return n(r,o.start,o.end,o.step)})}}(),l.sliceAssign=function(t,e,o){if(c(e.row)){if(c(e.col))return t[e.row][e.col]=o;e.col=e.col||{},e.col.start=e.col.start||0,e.col.end=e.col.end||t[0].length,e.col.step=e.col.step||1;var a=l.arange(e.col.start,n.min(t.length,e.col.end),e.col.step),i=e.row;return a.forEach(function(n,r){t[i][n]=o[r]}),t}if(c(e.col)){e.row=e.row||{},e.row.start=e.row.start||0,e.row.end=e.row.end||t.length,e.row.step=e.row.step||1;var u=l.arange(e.row.start,n.min(t[0].length,e.row.end),e.row.step),f=e.col;return u.forEach(function(n,r){t[n][f]=o[r]}),t}o[0].length===r&&(o=[o]),e.row.start=e.row.start||0,e.row.end=e.row.end||t.length,e.row.step=e.row.step||1,e.col.start=e.col.start||0,e.col.end=e.col.end||t[0].length,e.col.step=e.col.step||1;var u=l.arange(e.row.start,n.min(t.length,e.row.end),e.row.step),a=l.arange(e.col.start,n.min(t[0].length,e.col.end),e.col.step);return u.forEach(function(n,r){a.forEach(function(e,a){t[n][e]=o[r][a]})}),t},l.diagonal=function(n){var r=l.zeros(n.length,n.length);return n.forEach(function(n,t){r[t][t]=n}),r},l.copy=function(n){return n.map(function(n){return c(n)?n:n.map(function(n){return n})})};var d=l.prototype;return d.length=0,d.push=Array.prototype.push,d.sort=Array.prototype.sort,d.splice=Array.prototype.splice,d.slice=Array.prototype.slice,d.toArray=function(){return this.length>1?e.call(this):e.call(this)[0]},d.map=function(n,r){return l(l.map(this,n,r))},d.cumreduce=function(n,r){return l(l.cumreduce(this,n,r))},d.alter=function(n){return l.alter(this,n),this},function(n){for(var r=0;r<n.length;r++)!function(n){d[n]=function(r){var t,e=this;return r?(setTimeout(function(){r.call(e,d[n].call(e))}),this):(t=l[n](this),u(t)?l(t):t)}}(n[r])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(n){for(var r=0;r<n.length;r++)!function(n){d[n]=function(r,t){var e=this;return t?(setTimeout(function(){t.call(e,d[n].call(e,r))}),this):l(l[n](this,r))}}(n[r])}("row col".split(" ")),function(n){for(var r=0;r<n.length;r++)!function(n){d[n]=new Function("return jStat(jStat."+n+".apply(null, arguments));")}(n[r])}("create zeros ones rand identity".split(" ")),l}(Math);return function(n,r){var t=n.utils.isFunction;function e(n,r){return n-r}function o(n,t,e){return r.max(t,r.min(n,e))}n.sum=function(n){for(var r=0,t=n.length;--t>=0;)r+=n[t];return r},n.sumsqrd=function(n){for(var r=0,t=n.length;--t>=0;)r+=n[t]*n[t];return r},n.sumsqerr=function(r){for(var t,e=n.mean(r),o=0,a=r.length;--a>=0;)o+=(t=r[a]-e)*t;return o},n.sumrow=function(n){for(var r=0,t=n.length;--t>=0;)r+=n[t];return r},n.product=function(n){for(var r=1,t=n.length;--t>=0;)r*=n[t];return r},n.min=function(n){for(var r=n[0],t=0;++t<n.length;)n[t]<r&&(r=n[t]);return r},n.max=function(n){for(var r=n[0],t=0;++t<n.length;)n[t]>r&&(r=n[t]);return r},n.unique=function(n){for(var r={},t=[],e=0;e<n.length;e++)r[n[e]]||(r[n[e]]=!0,t.push(n[e]));return t},n.mean=function(r){return n.sum(r)/r.length},n.meansqerr=function(r){return n.sumsqerr(r)/r.length},n.geomean=function(t){return r.pow(n.product(t),1/t.length)},n.median=function(n){var r=n.length,t=n.slice().sort(e);return 1&r?t[r/2|0]:(t[r/2-1]+t[r/2])/2},n.cumsum=function(r){return n.cumreduce(r,function(n,r){return n+r})},n.cumprod=function(r){return n.cumreduce(r,function(n,r){return n*r})},n.diff=function(n){for(var r=[],t=n.length,e=1;e<t;e++)r.push(n[e]-n[e-1]);return r},n.rank=function(n){for(var r=n.length,t=n.slice().sort(e),o=new Array(r),a=0;a<r;a++){var i=t.indexOf(n[a]),u=t.lastIndexOf(n[a]);if(i===u)var f=i;else f=(i+u)/2;o[a]=f+1}return o},n.mode=function(n){for(var r=n.length,t=n.slice().sort(e),o=1,a=0,i=0,u=[],f=0;f<r;f++)t[f]===t[f+1]?o++:(o>a?(u=[t[f]],a=o,i=0):o===a&&(u.push(t[f]),i++),o=1);return 0===i?u[0]:u},n.range=function(r){return n.max(r)-n.min(r)},n.variance=function(r,t){return n.sumsqerr(r)/(r.length-(t?1:0))},n.pooledvariance=function(r){return r.reduce(function(r,t){return r+n.sumsqerr(t)},0)/(r.reduce(function(n,r){return n+r.length},0)-r.length)},n.deviation=function(r){for(var t=n.mean(r),e=r.length,o=new Array(e),a=0;a<e;a++)o[a]=r[a]-t;return o},n.stdev=function(t,e){return r.sqrt(n.variance(t,e))},n.pooledstdev=function(t){return r.sqrt(n.pooledvariance(t))},n.meandev=function(t){for(var e=n.mean(t),o=[],a=t.length-1;a>=0;a--)o.push(r.abs(t[a]-e));return n.mean(o)},n.meddev=function(t){for(var e=n.median(t),o=[],a=t.length-1;a>=0;a--)o.push(r.abs(t[a]-e));return n.median(o)},n.coeffvar=function(r){return n.stdev(r)/n.mean(r)},n.quartiles=function(n){var t=n.length,o=n.slice().sort(e);return[o[r.round(t/4)-1],o[r.round(t/2)-1],o[r.round(3*t/4)-1]]},n.quantiles=function(n,t,a,i){var u,f,c,l,s=n.slice().sort(e),m=[t.length],p=n.length;void 0===a&&(a=3/8),void 0===i&&(i=3/8);for(var d=0;d<t.length;d++)l=o((f=p*(u=t[d])+(a+u*(1-a-i)))-(c=r.floor(o(f,1,p-1))),0,1),m[d]=(1-l)*s[c-1]+l*s[c];return m},n.percentile=function(n,r){var t=n.slice().sort(e),o=r*(t.length-1),a=parseInt(o),i=o-a;return a+1<t.length?t[a]*(1-i)+t[a+1]*i:t[a]},n.percentileOfScore=function(n,r,t){var e,o=0,a=n.length,i=!1;"strict"===t&&(i=!0);for(var u=0;u<a;u++)e=n[u],(i&&e<r||!i&&e<=r)&&o++;return o/a},n.histogram=function(t,e){for(var o=n.min(t),a=e||4,i=(n.max(t)-o)/a,u=t.length,f=(e=[],0);f<a;f++)e[f]=0;for(f=0;f<u;f++)e[r.min(r.floor((t[f]-o)/i),a-1)]+=1;return e},n.covariance=function(r,t){for(var e=n.mean(r),o=n.mean(t),a=r.length,i=new Array(a),u=0;u<a;u++)i[u]=(r[u]-e)*(t[u]-o);return n.sum(i)/(a-1)},n.corrcoeff=function(r,t){return n.covariance(r,t)/n.stdev(r,1)/n.stdev(t,1)},n.spearmancoeff=function(r,t){return r=n.rank(r),t=n.rank(t),n.corrcoeff(r,t)},n.stanMoment=function(t,e){for(var o=n.mean(t),a=n.stdev(t),i=t.length,u=0,f=0;f<i;f++)u+=r.pow((t[f]-o)/a,e);return u/t.length},n.skewness=function(r){return n.stanMoment(r,3)},n.kurtosis=function(r){return n.stanMoment(r,4)-3};var a=n.prototype;!function(r){for(var e=0;e<r.length;e++)!function(r){a[r]=function(e,o){var i=[],u=0,f=this;if(t(e)&&(o=e,e=!1),o)return setTimeout(function(){o.call(f,a[r].call(f,e))}),this;if(this.length>1){for(f=!0===e?this:this.transpose();u<f.length;u++)i[u]=n[r](f[u]);return i}return n[r](this[0],e)}}(r[e])}("cumsum cumprod".split(" ")),function(r){for(var e=0;e<r.length;e++)!function(r){a[r]=function(e,o){var i=[],u=0,f=this;if(t(e)&&(o=e,e=!1),o)return setTimeout(function(){o.call(f,a[r].call(f,e))}),this;if(this.length>1){for("sumrow"!==r&&(f=!0===e?this:this.transpose());u<f.length;u++)i[u]=n[r](f[u]);return!0===e?n[r](n.utils.toVector(i)):i}return n[r](this[0],e)}}(r[e])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(r){for(var e=0;e<r.length;e++)!function(r){a[r]=function(){var e=[],o=0,i=this,u=Array.prototype.slice.call(arguments);if(t(u[u.length-1])){var f=u[u.length-1],c=u.slice(0,u.length-1);return setTimeout(function(){f.call(i,a[r].apply(i,c))}),this}f=void 0;var l=function(t){return n[r].apply(i,[t].concat(u))};if(this.length>1){for(i=i.transpose();o<i.length;o++)e[o]=l(i[o]);return e}return l(this[0])}}(r[e])}("quantiles percentileOfScore".split(" "))}(n,Math),function(n,r){n.gammaln=function(n){var t,e,o,a=0,i=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],u=1.000000000190015;for(o=(e=t=n)+5.5,o-=(t+.5)*r.log(o);a<6;a++)u+=i[a]/++e;return r.log(2.5066282746310007*u/t)-o},n.gammafn=function(n){var t,e,o,a=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],i=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],u=!1,f=0,c=0,l=0,s=n;if(s<=0){if(!(o=s%1+3.6e-16))return 1/0;u=(1&s?-1:1)*r.PI/r.sin(r.PI*o),s=1-s}e=s,t=s<1?s++:(s-=f=(0|s)-1)-1;for(var m=0;m<8;++m)l=(l+a[m])*t,c=c*t+i[m];if(o=l/c+1,e<s)o/=e;else if(e>s)for(m=0;m<f;++m)o*=s,s++;return u&&(o=u/o),o},n.gammap=function(r,t){return n.lowRegGamma(r,t)*n.gammafn(r)},n.lowRegGamma=function(t,e){var o,a=n.gammaln(t),i=t,u=1/t,f=u,c=e+1-t,l=1/1e-30,s=1/c,m=s,p=1,d=-~(8.5*r.log(t>=1?t:1/t)+.4*t+17);if(e<0||t<=0)return NaN;if(e<t+1){for(;p<=d;p++)u+=f*=e/++i;return u*r.exp(-e+t*r.log(e)-a)}for(;p<=d;p++)m*=(s=1/(s=(o=-p*(p-t))*s+(c+=2)))*(l=c+o/l);return 1-m*r.exp(-e+t*r.log(e)-a)},n.factorialln=function(r){return r<0?NaN:n.gammaln(r+1)},n.factorial=function(r){return r<0?NaN:n.gammafn(r+1)},n.combination=function(t,e){return t>170||e>170?r.exp(n.combinationln(t,e)):n.factorial(t)/n.factorial(e)/n.factorial(t-e)},n.combinationln=function(r,t){return n.factorialln(r)-n.factorialln(t)-n.factorialln(r-t)},n.permutation=function(r,t){return n.factorial(r)/n.factorial(r-t)},n.betafn=function(t,e){if(!(t<=0||e<=0))return t+e>170?r.exp(n.betaln(t,e)):n.gammafn(t)*n.gammafn(e)/n.gammafn(t+e)},n.betaln=function(r,t){return n.gammaln(r)+n.gammaln(t)-n.gammaln(r+t)},n.betacf=function(n,t,e){var o,a,i,u,f=1,c=t+e,l=t+1,s=t-1,m=1,p=1-c*n/l;for(r.abs(p)<1e-30&&(p=1e-30),u=p=1/p;f<=100&&(p=1+(a=f*(e-f)*n/((s+(o=2*f))*(t+o)))*p,r.abs(p)<1e-30&&(p=1e-30),m=1+a/m,r.abs(m)<1e-30&&(m=1e-30),u*=(p=1/p)*m,p=1+(a=-(t+f)*(c+f)*n/((t+o)*(l+o)))*p,r.abs(p)<1e-30&&(p=1e-30),m=1+a/m,r.abs(m)<1e-30&&(m=1e-30),u*=i=(p=1/p)*m,!(r.abs(i-1)<3e-7));f++);return u},n.gammapinv=function(t,e){var o,a,i,u,f,c,l=0,s=e-1,m=n.gammaln(e);if(t>=1)return r.max(100,e+100*r.sqrt(e));if(t<=0)return 0;for(e>1?(f=r.log(s),c=r.exp(s*(f-1)-m),u=t<.5?t:1-t,o=(2.30753+.27061*(a=r.sqrt(-2*r.log(u))))/(1+a*(.99229+.04481*a))-a,t<.5&&(o=-o),o=r.max(.001,e*r.pow(1-1/(9*e)-o/(3*r.sqrt(e)),3))):o=t<(a=1-e*(.253+.12*e))?r.pow(t/a,1/e):1-r.log(1-(t-a)/(1-a));l<12;l++){if(o<=0)return 0;if((o-=a=(i=(n.lowRegGamma(e,o)-t)/(a=e>1?c*r.exp(-(o-s)+s*(r.log(o)-f)):r.exp(-o+s*r.log(o)-m)))/(1-.5*r.min(1,i*((e-1)/o-1))))<=0&&(o=.5*(o+a)),r.abs(a)<1e-8*o)break}return o},n.erf=function(n){var t,e,o,a,i=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,9.6467911e-11,2.394038e-12,-6.886027e-12,8.94487e-13,3.13092e-13,-1.12708e-13,3.81e-16,7.106e-15,-1.523e-15,-9.4e-17,1.21e-16,-2.8e-17],u=i.length-1,f=!1,c=0,l=0;for(n<0&&(n=-n,f=!0),e=4*(t=2/(2+n))-2;u>0;u--)o=c,c=e*c-l+i[u],l=o;return a=t*r.exp(-n*n+.5*(i[0]+e*c)-l),f?a-1:1-a},n.erfc=function(r){return 1-n.erf(r)},n.erfcinv=function(t){var e,o,a,i,u=0;if(t>=2)return-100;if(t<=0)return 100;for(i=t<1?t:2-t,e=-.70711*((2.30753+.27061*(a=r.sqrt(-2*r.log(i/2))))/(1+a*(.99229+.04481*a))-a);u<2;u++)e+=(o=n.erfc(e)-i)/(1.1283791670955126*r.exp(-e*e)-e*o);return t<1?e:-e},n.ibetainv=function(t,e,o){var a,i,u,f,c,l,s,m,p,d,h=e-1,g=o-1,v=0;if(t<=0)return 0;if(t>=1)return 1;for(e>=1&&o>=1?(u=t<.5?t:1-t,l=(2.30753+.27061*(f=r.sqrt(-2*r.log(u))))/(1+f*(.99229+.04481*f))-f,t<.5&&(l=-l),s=(l*l-3)/6,m=2/(1/(2*e-1)+1/(2*o-1)),p=l*r.sqrt(s+m)/m-(1/(2*o-1)-1/(2*e-1))*(s+5/6-2/(3*m)),l=e/(e+o*r.exp(2*p))):(a=r.log(e/(e+o)),i=r.log(o/(e+o)),l=t<(f=r.exp(e*a)/e)/(p=f+(c=r.exp(o*i)/o))?r.pow(e*p*t,1/e):1-r.pow(o*p*(1-t),1/o)),d=-n.gammaln(e)-n.gammaln(o)+n.gammaln(e+o);v<10;v++){if(0===l||1===l)return l;if((l-=f=(c=(n.ibeta(l,e,o)-t)/(f=r.exp(h*r.log(l)+g*r.log(1-l)+d)))/(1-.5*r.min(1,c*(h/l-g/(1-l)))))<=0&&(l=.5*(l+f)),l>=1&&(l=.5*(l+f+1)),r.abs(f)<1e-8*l&&v>0)break}return l},n.ibeta=function(t,e,o){var a=0===t||1===t?0:r.exp(n.gammaln(e+o)-n.gammaln(e)-n.gammaln(o)+e*r.log(t)+o*r.log(1-t));return!(t<0||t>1)&&(t<(e+1)/(e+o+2)?a*n.betacf(t,e,o)/e:1-a*n.betacf(1-t,o,e)/o)},n.randn=function(t,e){var o,a,i,u,f;if(e||(e=t),t)return n.create(t,e,function(){return n.randn()});do{o=r.random(),a=1.7156*(r.random()-.5),f=(i=o-.449871)*i+(u=r.abs(a)+.386595)*(.196*u-.25472*i)}while(f>.27597&&(f>.27846||a*a>-4*r.log(o)*o*o));return a/o},n.randg=function(t,e,o){var a,i,u,f,c,l,s=t;if(o||(o=e),t||(t=1),e)return(l=n.zeros(e,o)).alter(function(){return n.randg(t)}),l;t<1&&(t+=1),a=t-1/3,i=1/r.sqrt(9*a);do{do{f=1+i*(c=n.randn())}while(f<=0);f*=f*f,u=r.random()}while(u>1-.331*r.pow(c,4)&&r.log(u)>.5*c*c+a*(1-f+r.log(f)));if(t==s)return a*f;do{u=r.random()}while(0===u);return r.pow(u,1/s)*a*f},function(r){for(var t=0;t<r.length;t++)!function(r){n.fn[r]=function(){return n(n.map(this,function(t){return n[r](t)}))}}(r[t])}("gammaln gammafn factorial factorialln".split(" ")),function(r){for(var t=0;t<r.length;t++)!function(r){n.fn[r]=function(){return n(n[r].apply(null,arguments))}}(r[t])}("randn".split(" "))}(n,Math),function(n,r){function t(t,e,o){var a=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],i=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],u=.5*t;if(u>=8)return 1;var f,c=2*n.normal.cdf(u,0,1,1,0)-1;c=c>=r.exp(-50/o)?r.pow(c,o):0;for(var l=u,s=(8-u)/(f=t>3?2:3),m=l+s,p=0,d=o-1,h=1;h<=f;h++){for(var g=0,v=.5*(m+l),w=.5*(m-l),y=1;y<=12;y++){var b,x=v+w*(6<y?a[(b=12-y+1)-1]:-a[(b=y)-1]),q=x*x;if(q>60)break;var _=2*n.normal.cdf(x,0,1,1,0)*.5-2*n.normal.cdf(x,t,1,1,0)*.5;_>=r.exp(-30/d)&&(g+=_=i[b-1]*r.exp(-.5*q)*r.pow(_,d))}p+=g*=2*w*o/r.sqrt(2*r.PI),l=m,m+=s}return(c+=p)<=r.exp(-30/e)?0:(c=r.pow(c,e))>=1?1:c}!function(r){for(var t=0;t<r.length;t++)!function(r){n[r]=function(n,r,t){return this instanceof arguments.callee?(this._a=n,this._b=r,this._c=t,this):new arguments.callee(n,r,t)},n.fn[r]=function(t,e,o){var a=n[r](t,e,o);return a.data=this,a},n[r].prototype.sample=function(t){var e=this._a,o=this._b,a=this._c;return t?n.alter(t,function(){return n[r].sample(e,o,a)}):n[r].sample(e,o,a)},function(t){for(var e=0;e<t.length;e++)!function(t){n[r].prototype[t]=function(e){var o=this._a,a=this._b,i=this._c;return e||0===e||(e=this.data),"number"!=typeof e?n.fn.map.call(e,function(e){return n[r][t](e,o,a,i)}):n[r][t](e,o,a,i)}}(t[e])}("pdf cdf inv".split(" ")),function(t){for(var e=0;e<t.length;e++)!function(t){n[r].prototype[t]=function(){return n[r][t](this._a,this._b,this._c)}}(t[e])}("mean median mode variance".split(" "))}(r[t])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),n.extend(n.beta,{pdf:function(t,e,o){return t>1||t<0?0:1==e&&1==o?1:e<512&&o<512?r.pow(t,e-1)*r.pow(1-t,o-1)/n.betafn(e,o):r.exp((e-1)*r.log(t)+(o-1)*r.log(1-t)-n.betaln(e,o))},cdf:function(r,t,e){return r>1||r<0?1*(r>1):n.ibeta(r,t,e)},inv:function(r,t,e){return n.ibetainv(r,t,e)},mean:function(n,r){return n/(n+r)},median:function(r,t){return n.ibetainv(.5,r,t)},mode:function(n,r){return(n-1)/(n+r-2)},sample:function(r,t){var e=n.randg(r);return e/(e+n.randg(t))},variance:function(n,t){return n*t/(r.pow(n+t,2)*(n+t+1))}}),n.extend(n.centralF,{pdf:function(t,e,o){var a;return t<0?0:e<=2?0===t&&e<2?1/0:0===t&&2===e?1:1/n.betafn(e/2,o/2)*r.pow(e/o,e/2)*r.pow(t,e/2-1)*r.pow(1+e/o*t,-(e+o)/2):(a=e*t/(o+t*e),e*(o/(o+t*e))/2*n.binomial.pdf((e-2)/2,(e+o-2)/2,a))},cdf:function(r,t,e){return r<0?0:n.ibeta(t*r/(t*r+e),t/2,e/2)},inv:function(r,t,e){return e/(t*(1/n.ibetainv(r,t/2,e/2)-1))},mean:function(n,r){return r>2?r/(r-2):void 0},mode:function(n,r){return n>2?r*(n-2)/(n*(r+2)):void 0},sample:function(r,t){return 2*n.randg(r/2)/r/(2*n.randg(t/2)/t)},variance:function(n,r){if(!(r<=4))return 2*r*r*(n+r-2)/(n*(r-2)*(r-2)*(r-4))}}),n.extend(n.cauchy,{pdf:function(n,t,e){return e<0?0:e/(r.pow(n-t,2)+r.pow(e,2))/r.PI},cdf:function(n,t,e){return r.atan((n-t)/e)/r.PI+.5},inv:function(n,t,e){return t+e*r.tan(r.PI*(n-.5))},median:function(n,r){return n},mode:function(n,r){return n},sample:function(t,e){return n.randn()*r.sqrt(1/(2*n.randg(.5)))*e+t}}),n.extend(n.chisquare,{pdf:function(t,e){return t<0?0:0===t&&2===e?.5:r.exp((e/2-1)*r.log(t)-t/2-e/2*r.log(2)-n.gammaln(e/2))},cdf:function(r,t){return r<0?0:n.lowRegGamma(t/2,r/2)},inv:function(r,t){return 2*n.gammapinv(r,.5*t)},mean:function(n){return n},median:function(n){return n*r.pow(1-2/(9*n),3)},mode:function(n){return n-2>0?n-2:0},sample:function(r){return 2*n.randg(r/2)},variance:function(n){return 2*n}}),n.extend(n.exponential,{pdf:function(n,t){return n<0?0:t*r.exp(-t*n)},cdf:function(n,t){return n<0?0:1-r.exp(-t*n)},inv:function(n,t){return-r.log(1-n)/t},mean:function(n){return 1/n},median:function(n){return 1/n*r.log(2)},mode:function(n){return 0},sample:function(n){return-1/n*r.log(r.random())},variance:function(n){return r.pow(n,-2)}}),n.extend(n.gamma,{pdf:function(t,e,o){return t<0?0:0===t&&1===e?1/o:r.exp((e-1)*r.log(t)-t/o-n.gammaln(e)-e*r.log(o))},cdf:function(r,t,e){return r<0?0:n.lowRegGamma(t,r/e)},inv:function(r,t,e){return n.gammapinv(r,t)*e},mean:function(n,r){return n*r},mode:function(n,r){if(n>1)return(n-1)*r},sample:function(r,t){return n.randg(r)*t},variance:function(n,r){return n*r*r}}),n.extend(n.invgamma,{pdf:function(t,e,o){return t<=0?0:r.exp(-(e+1)*r.log(t)-o/t-n.gammaln(e)+e*r.log(o))},cdf:function(r,t,e){return r<=0?0:1-n.lowRegGamma(t,e/r)},inv:function(r,t,e){return e/n.gammapinv(1-r,t)},mean:function(n,r){return n>1?r/(n-1):void 0},mode:function(n,r){return r/(n+1)},sample:function(r,t){return t/n.randg(r)},variance:function(n,r){if(!(n<=2))return r*r/((n-1)*(n-1)*(n-2))}}),n.extend(n.kumaraswamy,{pdf:function(n,t,e){return 0===n&&1===t?e:1===n&&1===e?t:r.exp(r.log(t)+r.log(e)+(t-1)*r.log(n)+(e-1)*r.log(1-r.pow(n,t)))},cdf:function(n,t,e){return n<0?0:n>1?1:1-r.pow(1-r.pow(n,t),e)},inv:function(n,t,e){return r.pow(1-r.pow(1-n,1/e),1/t)},mean:function(r,t){return t*n.gammafn(1+1/r)*n.gammafn(t)/n.gammafn(1+1/r+t)},median:function(n,t){return r.pow(1-r.pow(2,-1/t),1/n)},mode:function(n,t){if(n>=1&&t>=1&&1!==n&&1!==t)return r.pow((n-1)/(n*t-1),1/n)},variance:function(n,r){throw new Error("variance not yet implemented")}}),n.extend(n.lognormal,{pdf:function(n,t,e){return n<=0?0:r.exp(-r.log(n)-.5*r.log(2*r.PI)-r.log(e)-r.pow(r.log(n)-t,2)/(2*e*e))},cdf:function(t,e,o){return t<0?0:.5+.5*n.erf((r.log(t)-e)/r.sqrt(2*o*o))},inv:function(t,e,o){return r.exp(-1.4142135623730951*o*n.erfcinv(2*t)+e)},mean:function(n,t){return r.exp(n+t*t/2)},median:function(n,t){return r.exp(n)},mode:function(n,t){return r.exp(n-t*t)},sample:function(t,e){return r.exp(n.randn()*e+t)},variance:function(n,t){return(r.exp(t*t)-1)*r.exp(2*n+t*t)}}),n.extend(n.noncentralt,{pdf:function(t,e,o){return r.abs(o)<1e-14?n.studentt.pdf(t,e):r.abs(t)<1e-14?r.exp(n.gammaln((e+1)/2)-o*o/2-.5*r.log(r.PI*e)-n.gammaln(e/2)):e/t*(n.noncentralt.cdf(t*r.sqrt(1+2/e),e+2,o)-n.noncentralt.cdf(t,e,o))},cdf:function(t,e,o){if(r.abs(o)<1e-14)return n.studentt.cdf(t,e);var a=!1;t<0&&(a=!0,o=-o);for(var i=n.normal.cdf(-o,0,1),u=1e-14+1,f=u,c=t*t/(t*t+e),l=0,s=r.exp(-o*o/2),m=r.exp(-o*o/2-.5*r.log(2)-n.gammaln(1.5))*o;l<200||f>1e-14||u>1e-14;)f=u,l>0&&(s*=o*o/(2*l),m*=o*o/(2*(l+.5))),i+=.5*(u=s*n.beta.cdf(c,l+.5,e/2)+m*n.beta.cdf(c,l+1,e/2)),l++;return a?1-i:i}}),n.extend(n.normal,{pdf:function(n,t,e){return r.exp(-.5*r.log(2*r.PI)-r.log(e)-r.pow(n-t,2)/(2*e*e))},cdf:function(t,e,o){return.5*(1+n.erf((t-e)/r.sqrt(2*o*o)))},inv:function(r,t,e){return-1.4142135623730951*e*n.erfcinv(2*r)+t},mean:function(n,r){return n},median:function(n,r){return n},mode:function(n,r){return n},sample:function(r,t){return n.randn()*t+r},variance:function(n,r){return r*r}}),n.extend(n.pareto,{pdf:function(n,t,e){return n<t?0:e*r.pow(t,e)/r.pow(n,e+1)},cdf:function(n,t,e){return n<t?0:1-r.pow(t/n,e)},inv:function(n,t,e){return t/r.pow(1-n,1/e)},mean:function(n,t){if(!(t<=1))return t*r.pow(n,t)/(t-1)},median:function(n,t){return n*(t*r.SQRT2)},mode:function(n,r){return n},variance:function(n,t){if(!(t<=2))return n*n*t/(r.pow(t-1,2)*(t-2))}}),n.extend(n.studentt,{pdf:function(t,e){return e=e>1e100?1e100:e,1/(r.sqrt(e)*n.betafn(.5,e/2))*r.pow(1+t*t/e,-(e+1)/2)},cdf:function(t,e){var o=e/2;return n.ibeta((t+r.sqrt(t*t+e))/(2*r.sqrt(t*t+e)),o,o)},inv:function(t,e){var o=n.ibetainv(2*r.min(t,1-t),.5*e,.5);return o=r.sqrt(e*(1-o)/o),t>.5?o:-o},mean:function(n){return n>1?0:void 0},median:function(n){return 0},mode:function(n){return 0},sample:function(t){return n.randn()*r.sqrt(t/(2*n.randg(t/2)))},variance:function(n){return n>2?n/(n-2):n>1?1/0:void 0}}),n.extend(n.weibull,{pdf:function(n,t,e){return n<0||t<0||e<0?0:e/t*r.pow(n/t,e-1)*r.exp(-r.pow(n/t,e))},cdf:function(n,t,e){return n<0?0:1-r.exp(-r.pow(n/t,e))},inv:function(n,t,e){return t*r.pow(-r.log(1-n),1/e)},mean:function(r,t){return r*n.gammafn(1+1/t)},median:function(n,t){return n*r.pow(r.log(2),1/t)},mode:function(n,t){return t<=1?0:n*r.pow((t-1)/t,1/t)},sample:function(n,t){return n*r.pow(-r.log(r.random()),1/t)},variance:function(t,e){return t*t*n.gammafn(1+2/e)-r.pow(n.weibull.mean(t,e),2)}}),n.extend(n.uniform,{pdf:function(n,r,t){return n<r||n>t?0:1/(t-r)},cdf:function(n,r,t){return n<r?0:n<t?(n-r)/(t-r):1},inv:function(n,r,t){return r+n*(t-r)},mean:function(n,r){return.5*(n+r)},median:function(r,t){return n.mean(r,t)},mode:function(n,r){throw new Error("mode is not yet implemented")},sample:function(n,t){return n/2+t/2+(t/2-n/2)*(2*r.random()-1)},variance:function(n,t){return r.pow(t-n,2)/12}}),n.extend(n.binomial,{pdf:function(t,e,o){return 0===o||1===o?e*o===t?1:0:n.combination(e,t)*r.pow(o,t)*r.pow(1-o,e-t)},cdf:function(r,t,e){var o=[],a=0;if(r<0)return 0;if(r<t){for(;a<=r;a++)o[a]=n.binomial.pdf(a,t,e);return n.sum(o)}return 1}}),n.extend(n.negbin,{pdf:function(t,e,o){return t===t>>>0&&(t<0?0:n.combination(t+e-1,e-1)*r.pow(1-o,t)*r.pow(o,e))},cdf:function(r,t,e){var o=0,a=0;if(r<0)return 0;for(;a<=r;a++)o+=n.negbin.pdf(a,t,e);return o}}),n.extend(n.hypgeom,{pdf:function(t,e,o,a){if(t!=t|0)return!1;if(t<0||t<o-(e-a))return 0;if(t>a||t>o)return 0;if(2*o>e)return 2*a>e?n.hypgeom.pdf(e-o-a+t,e,e-o,e-a):n.hypgeom.pdf(a-t,e,e-o,a);if(2*a>e)return n.hypgeom.pdf(o-t,e,o,e-a);if(o<a)return n.hypgeom.pdf(t,e,a,o);for(var i=1,u=0,f=0;f<t;f++){for(;i>1&&u<a;)i*=1-o/(e-u),u++;i*=(a-f)*(o-f)/((f+1)*(e-o-a+f+1))}for(;u<a;u++)i*=1-o/(e-u);return r.min(1,r.max(0,i))},cdf:function(t,e,o,a){if(t<0||t<o-(e-a))return 0;if(t>=a||t>=o)return 1;if(2*o>e)return 2*a>e?n.hypgeom.cdf(e-o-a+t,e,e-o,e-a):1-n.hypgeom.cdf(a-t-1,e,e-o,a);if(2*a>e)return 1-n.hypgeom.cdf(o-t-1,e,o,e-a);if(o<a)return n.hypgeom.cdf(t,e,a,o);for(var i=1,u=1,f=0,c=0;c<t;c++){for(;i>1&&f<a;){var l=1-o/(e-f);u*=l,i*=l,f++}i+=u*=(a-c)*(o-c)/((c+1)*(e-o-a+c+1))}for(;f<a;f++)i*=1-o/(e-f);return r.min(1,r.max(0,i))}}),n.extend(n.poisson,{pdf:function(t,e){return e<0||t%1!=0||t<0?0:r.pow(e,t)*r.exp(-e)/n.factorial(t)},cdf:function(r,t){var e=[],o=0;if(r<0)return 0;for(;o<=r;o++)e.push(n.poisson.pdf(o,t));return n.sum(e)},mean:function(n){return n},variance:function(n){return n},sample:function(n){var t=1,e=0,o=r.exp(-n);do{e++,t*=r.random()}while(t>o);return e-1}}),n.extend(n.triangular,{pdf:function(n,r,t,e){return t<=r||e<r||e>t?NaN:n<r||n>t?0:n<e?2*(n-r)/((t-r)*(e-r)):n===e?2/(t-r):2*(t-n)/((t-r)*(t-e))},cdf:function(n,t,e,o){return e<=t||o<t||o>e?NaN:n<=t?0:n>=e?1:n<=o?r.pow(n-t,2)/((e-t)*(o-t)):1-r.pow(e-n,2)/((e-t)*(e-o))},inv:function(n,t,e,o){return e<=t||o<t||o>e?NaN:n<=(o-t)/(e-t)?t+(e-t)*r.sqrt(n*((o-t)/(e-t))):t+(e-t)*(1-r.sqrt((1-n)*(1-(o-t)/(e-t))))},mean:function(n,r,t){return(n+r+t)/3},median:function(n,t,e){return e<=(n+t)/2?t-r.sqrt((t-n)*(t-e))/r.sqrt(2):e>(n+t)/2?n+r.sqrt((t-n)*(e-n))/r.sqrt(2):void 0},mode:function(n,r,t){return t},sample:function(n,t,e){var o=r.random();return o<(e-n)/(t-n)?n+r.sqrt(o*(t-n)*(e-n)):t-r.sqrt((1-o)*(t-n)*(t-e))},variance:function(n,r,t){return(n*n+r*r+t*t-n*r-n*t-r*t)/18}}),n.extend(n.arcsine,{pdf:function(n,t,e){return e<=t?NaN:n<=t||n>=e?0:2/r.PI*r.pow(r.pow(e-t,2)-r.pow(2*n-t-e,2),-.5)},cdf:function(n,t,e){return n<t?0:n<e?2/r.PI*r.asin(r.sqrt((n-t)/(e-t))):1},inv:function(n,t,e){return t+(.5-.5*r.cos(r.PI*n))*(e-t)},mean:function(n,r){return r<=n?NaN:(n+r)/2},median:function(n,r){return r<=n?NaN:(n+r)/2},mode:function(n,r){throw new Error("mode is not yet implemented")},sample:function(t,e){return(t+e)/2+(e-t)/2*r.sin(2*r.PI*n.uniform.sample(0,1))},variance:function(n,t){return t<=n?NaN:r.pow(t-n,2)/8}}),n.extend(n.laplace,{pdf:function(n,t,e){return e<=0?0:r.exp(-r.abs(n-t)/e)/(2*e)},cdf:function(n,t,e){return e<=0?0:n<t?.5*r.exp((n-t)/e):1-.5*r.exp(-(n-t)/e)},mean:function(n,r){return n},median:function(n,r){return n},mode:function(n,r){return n},variance:function(n,r){return 2*r*r},sample:function(n,t){var e=r.random()-.5;return n-t*function(n){return n/r.abs(n)}(e)*r.log(1-2*r.abs(e))}}),n.extend(n.tukey,{cdf:function(e,o,a){var i=o,u=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],f=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(e<=0)return 0;if(a<2||i<2)return NaN;if(!Number.isFinite(e))return 1;if(a>25e3)return t(e,1,i);var c,l=.5*a,s=l*r.log(a)-a*r.log(2)-n.gammaln(l),m=l-1,p=.25*a;c=a<=100?1:a<=800?.5:a<=5e3?.25:.125,s+=r.log(c);for(var d=0,h=1;h<=50;h++){for(var g=0,v=(2*h-1)*c,w=1;w<=16;w++){var y,b;8<w?(y=w-8-1,b=s+m*r.log(v+u[y]*c)-(u[y]*c+v)*p):(y=w-1,b=s+m*r.log(v-u[y]*c)+(u[y]*c-v)*p),b>=-30&&(g+=t(8<w?e*r.sqrt(.5*(u[y]*c+v)):e*r.sqrt(.5*(-u[y]*c+v)),1,i)*f[y]*r.exp(b))}if(h*c>=1&&g<=1e-14)break;d+=g}if(g>1e-14)throw new Error("tukey.cdf failed to converge");return d>1&&(d=1),d},inv:function(t,e,o){if(o<2||e<2)return NaN;if(t<0||t>1)return NaN;if(0===t)return 0;if(1===t)return 1/0;var a,i=function(n,t,e){var o=.5-.5*n,a=r.sqrt(r.log(1/(o*o))),i=a+((((-453642210148e-16*a-.204231210125)*a-.342242088547)*a-1)*a+.322232421088)/((((.0038560700634*a+.10353775285)*a+.531103462366)*a+.588581570495)*a+.099348462606);e<120&&(i+=(i*i*i+i)/e/4);var u=.8832-.2368*i;return e<120&&(u+=-1.214/e+1.208*i/e),i*(u*r.log(t-1)+1.4142)}(t,e,o),u=n.tukey.cdf(i,e,o)-t;a=u>0?r.max(0,i-1):i+1;for(var f,c=n.tukey.cdf(a,e,o)-t,l=1;l<50;l++)if(f=a-c*(a-i)/(c-u),u=c,i=a,f<0&&(f=0,c=-t),c=n.tukey.cdf(f,e,o)-t,a=f,r.abs(a-i)<1e-4)return f;throw new Error("tukey.inv failed to converge")}})}(n,Math),function(n,t){var e=Array.prototype.push,o=n.utils.isArray;function a(r){return o(r)||r instanceof n}n.extend({add:function(r,t){return a(t)?(a(t[0])||(t=[t]),n.map(r,function(n,r,e){return n+t[r][e]})):n.map(r,function(n){return n+t})},subtract:function(r,t){return a(t)?(a(t[0])||(t=[t]),n.map(r,function(n,r,e){return n-t[r][e]||0})):n.map(r,function(n){return n-t})},divide:function(r,t){return a(t)?(a(t[0])||(t=[t]),n.multiply(r,n.inv(t))):n.map(r,function(n){return n/t})},multiply:function(r,t){var e,o,i,u,f,c,l,s;if(void 0===r.length&&void 0===t.length)return r*t;if(f=r.length,c=r[0].length,l=n.zeros(f,i=a(t)?t[0].length:c),s=0,a(t)){for(;s<i;s++)for(e=0;e<f;e++){for(u=0,o=0;o<c;o++)u+=r[e][o]*t[o][s];l[e][s]=u}return 1===f&&1===s?l[0][0]:l}return n.map(r,function(n){return n*t})},outer:function(r,t){return n.multiply(r.map(function(n){return[n]}),[t])},dot:function(r,t){a(r[0])||(r=[r]),a(t[0])||(t=[t]);for(var e,o,i=1===r[0].length&&1!==r.length?n.transpose(r):r,u=1===t[0].length&&1!==t.length?n.transpose(t):t,f=[],c=0,l=i.length,s=i[0].length;c<l;c++){for(f[c]=[],e=0,o=0;o<s;o++)e+=i[c][o]*u[c][o];f[c]=e}return 1===f.length?f[0]:f},pow:function(r,e){return n.map(r,function(n){return t.pow(n,e)})},exp:function(r){return n.map(r,function(n){return t.exp(n)})},log:function(r){return n.map(r,function(n){return t.log(n)})},abs:function(r){return n.map(r,function(n){return t.abs(n)})},norm:function(n,r){var e=0,o=0;for(isNaN(r)&&(r=2),a(n[0])&&(n=n[0]);o<n.length;o++)e+=t.pow(t.abs(n[o]),r);return t.pow(e,1/r)},angle:function(r,e){return t.acos(n.dot(r,e)/(n.norm(r)*n.norm(e)))},aug:function(n,r){for(var t=[],o=0;o<n.length;o++)t.push(n[o].slice());for(o=0;o<t.length;o++)e.apply(t[o],r[o]);return t},inv:function(r){for(var t,e=r.length,o=r[0].length,a=n.identity(e,o),i=n.gauss_jordan(r,a),u=[],f=0;f<e;f++)for(u[f]=[],t=o;t<i[0].length;t++)u[f][t-o]=i[f][t];return u},det:function(n){var r,t=n.length,e=2*t,o=new Array(e),a=t-1,i=e-1,u=a-t+1,f=i,c=0,l=0;if(2===t)return n[0][0]*n[1][1]-n[0][1]*n[1][0];for(;c<e;c++)o[c]=1;for(c=0;c<t;c++){for(r=0;r<t;r++)o[u<0?u+t:u]*=n[c][r],o[f<t?f+t:f]*=n[c][r],u++,f--;u=--a-t+1,f=--i}for(c=0;c<t;c++)l+=o[c];for(;c<e;c++)l-=o[c];return l},gauss_elimination:function(r,e){var o,a,i,u,f=0,c=0,l=r.length,s=r[0].length,m=1,p=0,d=[];for(o=(r=n.aug(r,e))[0].length,f=0;f<l;f++){for(a=r[f][f],c=f,u=f+1;u<s;u++)a<t.abs(r[u][f])&&(a=r[u][f],c=u);if(c!=f)for(u=0;u<o;u++)i=r[f][u],r[f][u]=r[c][u],r[c][u]=i;for(c=f+1;c<l;c++)for(m=r[c][f]/r[f][f],u=f;u<o;u++)r[c][u]=r[c][u]-m*r[f][u]}for(f=l-1;f>=0;f--){for(p=0,c=f+1;c<=l-1;c++)p+=d[c]*r[f][c];d[f]=(r[f][o-1]-p)/r[f][f]}return d},gauss_jordan:function(r,e){for(var o=n.aug(r,e),a=o.length,i=o[0].length,u=0,f=0;f<a;f++){for(var c=f,l=f+1;l<a;l++)t.abs(o[l][f])>t.abs(o[c][f])&&(c=l);var s=o[f];for(o[f]=o[c],o[c]=s,l=f+1;l<a;l++){u=o[l][f]/o[f][f];for(var m=f;m<i;m++)o[l][m]-=o[f][m]*u}}for(f=a-1;f>=0;f--){for(u=o[f][f],l=0;l<f;l++)for(m=i-1;m>f-1;m--)o[l][m]-=o[f][m]*o[l][f]/u;for(o[f][f]/=u,m=a;m<i;m++)o[f][m]/=u}return o},triaUpSolve:function(r,t){var e,o=r[0].length,a=n.zeros(1,o)[0],i=!1;return null!=t[0].length&&(t=t.map(function(n){return n[0]}),i=!0),n.arange(o-1,-1,-1).forEach(function(i){e=n.arange(i+1,o).map(function(n){return a[n]*r[i][n]}),a[i]=(t[i]-n.sum(e))/r[i][i]}),i?a.map(function(n){return[n]}):a},triaLowSolve:function(r,t){var e,o=r[0].length,a=n.zeros(1,o)[0],i=!1;return null!=t[0].length&&(t=t.map(function(n){return n[0]}),i=!0),n.arange(o).forEach(function(o){e=n.arange(o).map(function(n){return r[o][n]*a[n]}),a[o]=(t[o]-n.sum(e))/r[o][o]}),i?a.map(function(n){return[n]}):a},lu:function(r){var t,e=r.length,o=n.identity(e),a=n.zeros(r.length,r[0].length);return n.arange(e).forEach(function(n){a[0][n]=r[0][n]}),n.arange(1,e).forEach(function(u){n.arange(u).forEach(function(e){t=n.arange(e).map(function(n){return o[u][n]*a[n][e]}),o[u][e]=(r[u][e]-n.sum(t))/a[e][e]}),n.arange(u,e).forEach(function(e){t=n.arange(u).map(function(n){return o[u][n]*a[n][e]}),a[u][e]=r[i][e]-n.sum(t)})}),[o,a]},cholesky:function(r){var e,o=r.length,a=n.zeros(r.length,r[0].length);return n.arange(o).forEach(function(i){e=n.arange(i).map(function(n){return t.pow(a[i][n],2)}),a[i][i]=t.sqrt(r[i][i]-n.sum(e)),n.arange(i+1,o).forEach(function(t){e=n.arange(i).map(function(n){return a[i][n]*a[t][n]}),a[t][i]=(r[i][t]-n.sum(e))/a[i][i]})}),a},gauss_jacobi:function(r,e,o,a){for(var i,u,f,c,l=0,s=0,m=r.length,p=[],d=[],h=[];l<m;l++)for(p[l]=[],d[l]=[],h[l]=[],s=0;s<m;s++)l>s?(p[l][s]=r[l][s],d[l][s]=h[l][s]=0):l<s?(d[l][s]=r[l][s],p[l][s]=h[l][s]=0):(h[l][s]=r[l][s],p[l][s]=d[l][s]=0);for(f=n.multiply(n.multiply(n.inv(h),n.add(p,d)),-1),u=n.multiply(n.inv(h),e),i=o,c=n.add(n.multiply(f,o),u),l=2;t.abs(n.norm(n.subtract(c,i)))>a;)i=c,c=n.add(n.multiply(f,i),u),l++;return c},gauss_seidel:function(r,e,o,a){for(var i,u,f,c,l,s=0,m=r.length,p=[],d=[],h=[];s<m;s++)for(p[s]=[],d[s]=[],h[s]=[],i=0;i<m;i++)s>i?(p[s][i]=r[s][i],d[s][i]=h[s][i]=0):s<i?(d[s][i]=r[s][i],p[s][i]=h[s][i]=0):(h[s][i]=r[s][i],p[s][i]=d[s][i]=0);for(c=n.multiply(n.multiply(n.inv(n.add(h,p)),d),-1),f=n.multiply(n.inv(n.add(h,p)),e),u=o,l=n.add(n.multiply(c,o),f),s=2;t.abs(n.norm(n.subtract(l,u)))>a;)u=l,l=n.add(n.multiply(c,u),f),s+=1;return l},SOR:function(r,e,o,a,i){for(var u,f,c,l,s,m=0,p=r.length,d=[],h=[],g=[];m<p;m++)for(d[m]=[],h[m]=[],g[m]=[],u=0;u<p;u++)m>u?(d[m][u]=r[m][u],h[m][u]=g[m][u]=0):m<u?(h[m][u]=r[m][u],d[m][u]=g[m][u]=0):(g[m][u]=r[m][u],d[m][u]=h[m][u]=0);for(l=n.multiply(n.inv(n.add(g,n.multiply(d,i))),n.subtract(n.multiply(g,1-i),n.multiply(h,i))),c=n.multiply(n.multiply(n.inv(n.add(g,n.multiply(d,i))),e),i),f=o,s=n.add(n.multiply(l,o),c),m=2;t.abs(n.norm(n.subtract(s,f)))>a;)f=s,s=n.add(n.multiply(l,f),c),m++;return s},householder:function(r){for(var e,o,a,i,u=r.length,f=r[0].length,c=0,l=[],s=[];c<u-1;c++){for(e=0,i=c+1;i<f;i++)e+=r[i][c]*r[i][c];for(e=(r[c+1][c]>0?-1:1)*t.sqrt(e),o=t.sqrt((e*e-r[c+1][c]*e)/2),(l=n.zeros(u,1))[c+1][0]=(r[c+1][c]-e)/(2*o),a=c+2;a<u;a++)l[a][0]=r[a][c]/(2*o);s=n.subtract(n.identity(u,f),n.multiply(n.multiply(l,n.transpose(l)),2)),r=n.multiply(s,n.multiply(r,s))}return r},QR:function(){var e=n.sum,o=n.arange;return function(a){var i,u,f,c=a.length,l=a[0].length;for(a=n.copy(a),r=n.zeros(l,l),u=0;u<l;u++){for(r[u][u]=t.sqrt(e(o(c).map(function(n){return a[n][u]*a[n][u]}))),i=0;i<c;i++)a[i][u]=a[i][u]/r[u][u];for(f=u+1;f<l;f++)for(r[u][f]=e(o(c).map(function(n){return a[n][u]*a[n][f]})),i=0;i<c;i++)a[i][f]=a[i][f]-a[i][u]*r[u][f]}return[a,r]}}(),lstsq:function(r,t){var e=!1;void 0===t[0].length&&(t=t.map(function(n){return[n]}),e=!0);var o=n.QR(r),a=o[0],i=o[1],u=r[0].length,f=n.slice(a,{col:{end:u}}),c=function(r){var t=(r=n.copy(r)).length,e=n.identity(t);return n.arange(t-1,-1,-1).forEach(function(t){n.sliceAssign(e,{row:t},n.divide(n.slice(e,{row:t}),r[t][t])),n.sliceAssign(r,{row:t},n.divide(n.slice(r,{row:t}),r[t][t])),n.arange(t).forEach(function(o){var a=n.multiply(r[o][t],-1),i=n.slice(r,{row:o}),u=n.multiply(n.slice(r,{row:t}),a);n.sliceAssign(r,{row:o},n.add(i,u));var f=n.slice(e,{row:o}),c=n.multiply(n.slice(e,{row:t}),a);n.sliceAssign(e,{row:o},n.add(f,c))})}),e}(n.slice(i,{row:{end:u}})),l=n.transpose(f);void 0===l[0].length&&(l=[l]);var s=n.multiply(n.multiply(c,l),t);return void 0===s.length&&(s=[[s]]),e?s.map(function(n){return n[0]}):s},jacobi:function(r){for(var e,o,a,i,u,f,c=1,l=r.length,s=n.identity(l,l),m=[];1===c;){i=r[0][1],o=0,a=1;for(var p=0;p<l;p++)for(e=0;e<l;e++)p!=e&&i<t.abs(r[p][e])&&(i=t.abs(r[p][e]),o=p,a=e);for(u=r[o][o]===r[a][a]?r[o][a]>0?t.PI/4:-t.PI/4:t.atan(2*r[o][a]/(r[o][o]-r[a][a]))/2,(f=n.identity(l,l))[o][o]=t.cos(u),f[o][a]=-t.sin(u),f[a][o]=t.sin(u),f[a][a]=t.cos(u),s=n.multiply(s,f),r=n.multiply(n.multiply(n.inv(f),r),f),c=0,p=1;p<l;p++)for(e=1;e<l;e++)p!=e&&t.abs(r[p][e])>.001&&(c=1)}for(p=0;p<l;p++)m.push(r[p][p]);return[s,m]},rungekutta:function(n,r,t,e,o,a){var i,u,f;if(2===a)for(;e<=t;)o+=((i=r*n(e,o))+(u=r*n(e+r,o+i)))/2,e+=r;if(4===a)for(;e<=t;)o+=((i=r*n(e,o))+2*(u=r*n(e+r/2,o+i/2))+2*(f=r*n(e+r/2,o+u/2))+r*n(e+r,o+f))/6,e+=r;return o},romberg:function(n,r,e,o){for(var a,i,u,f,c,l=0,s=(e-r)/2,m=[],p=[],d=[];l<o/2;){for(c=n(r),u=r,f=0;u<=e;u+=s,f++)m[f]=u;for(a=m.length,u=1;u<a-1;u++)c+=(u%2!=0?4:2)*n(m[u]);c=s/3*(c+n(e)),d[l]=c,s/=2,l++}for(i=d.length,a=1;1!==i;){for(u=0;u<i-1;u++)p[u]=(t.pow(4,a)*d[u+1]-d[u])/(t.pow(4,a)-1);i=p.length,d=p,p=[],a++}return d},richardson:function(n,r,e,o){function a(n,r){for(var t,e=0,o=n.length;e<o;e++)n[e]===r&&(t=e);return t}n.length;for(var i,u,f,c,l,s=t.abs(e-n[a(n,e)+1]),m=0,p=[],d=[];o>=s;)i=a(n,e+o),u=a(n,e),p[m]=(r[i]-2*r[u]+r[2*u-i])/(o*o),o/=2,m++;for(c=p.length,f=1;1!=c;){for(l=0;l<c-1;l++)d[l]=(t.pow(4,f)*p[l+1]-p[l])/(t.pow(4,f)-1);c=d.length,p=d,d=[],f++}return p},simpson:function(n,r,t,e){for(var o,a=(t-r)/e,i=n(r),u=[],f=r,c=0,l=1;f<=t;f+=a,c++)u[c]=f;for(o=u.length;l<o-1;l++)i+=(l%2!=0?4:2)*n(u[l]);return a/3*(i+n(t))},hermite:function(n,r,t,e){for(var o,a=n.length,i=0,u=0,f=[],c=[],l=[],s=[];u<a;u++){for(f[u]=1,o=0;o<a;o++)u!=o&&(f[u]*=(e-n[o])/(n[u]-n[o]));for(c[u]=0,o=0;o<a;o++)u!=o&&(c[u]+=1/(n[u]-n[o]));l[u]=(1-2*(e-n[u])*c[u])*(f[u]*f[u]),s[u]=(e-n[u])*(f[u]*f[u]),i+=l[u]*r[u]+s[u]*t[u]}return i},lagrange:function(n,r,t){for(var e,o,a=0,i=0,u=n.length;i<u;i++){for(o=r[i],e=0;e<u;e++)i!=e&&(o*=(t-n[e])/(n[i]-n[e]));a+=o}return a},cubic_spline:function(r,t,e){for(var o,a,i=r.length,u=0,f=[],c=[],l=[],s=[],m=[],p=[];u<i-1;u++)s[u]=r[u+1]-r[u];for(l[0]=0,u=1;u<i-1;u++)l[u]=3/s[u]*(t[u+1]-t[u])-3/s[u-1]*(t[u]-t[u-1]);for(u=1;u<i-1;u++)f[u]=[],c[u]=[],f[u][u-1]=s[u-1],f[u][u]=2*(s[u-1]+s[u]),f[u][u+1]=s[u],c[u][0]=l[u];for(a=n.multiply(n.inv(f),c),o=0;o<i-1;o++)m[o]=(t[o+1]-t[o])/s[o]-s[o]*(a[o+1][0]+2*a[o][0])/3,p[o]=(a[o+1][0]-a[o][0])/(3*s[o]);for(o=0;o<i&&!(r[o]>e);o++);return t[o-=1]+(e-r[o])*m[o]+n.sq(e-r[o])*a[o]+(e-r[o])*n.sq(e-r[o])*p[o]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(r){var t,e,o,a,i,u=r.length,f=r[0].length,c=0,l=[],s=[],m=[],p=[],d=[],h=[],g=[];for(c=0;c<u;c++)l[c]=n.sum(r[c])/f;for(c=0;c<f;c++)for(d[c]=[],t=0;t<u;t++)d[c][t]=r[t][c]-l[t];for(d=n.transpose(d),c=0;c<u;c++)for(h[c]=[],t=0;t<u;t++)h[c][t]=n.dot([d[c]],[d[t]])/(f-1);for(i=(o=n.jacobi(h))[0],s=o[1],g=n.transpose(i),c=0;c<s.length;c++)for(t=c;t<s.length;t++)s[c]<s[t]&&(e=s[c],s[c]=s[t],s[t]=e,m=g[c],g[c]=g[t],g[t]=m);for(a=n.transpose(d),c=0;c<u;c++)for(p[c]=[],t=0;t<a.length;t++)p[c][t]=n.dot([g[c]],[a[t]]);return[r,s,g,p]}}),function(r){for(var t=0;t<r.length;t++)!function(r){n.fn[r]=function(t,e){var o=this;return e?(setTimeout(function(){e.call(o,n.fn[r].call(o,t))},15),this):"number"==typeof n[r](this,t)?n[r](this,t):n(n[r](this,t))}}(r[t])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(n,Math),function(n,r){var t=[].slice,e=n.utils.isNumber,o=n.utils.isArray;function a(n,t,e,o){if(n>1||e>1||n<=0||e<=0)throw new Error("Proportions should be greater than 0 and less than 1");var a=(n*t+e*o)/(t+o);return(n-e)/r.sqrt(a*(1-a)*(1/t+1/o))}n.extend({zscore:function(){var r=t.call(arguments);return e(r[1])?(r[0]-r[1])/r[2]:(r[0]-n.mean(r[1]))/n.stdev(r[1],r[2])},ztest:function(){var e,a=t.call(arguments);return o(a[1])?(e=n.zscore(a[0],a[1],a[3]),1===a[2]?n.normal.cdf(-r.abs(e),0,1):2*n.normal.cdf(-r.abs(e),0,1)):a.length>2?(e=n.zscore(a[0],a[1],a[2]),1===a[3]?n.normal.cdf(-r.abs(e),0,1):2*n.normal.cdf(-r.abs(e),0,1)):(e=a[0],1===a[1]?n.normal.cdf(-r.abs(e),0,1):2*n.normal.cdf(-r.abs(e),0,1))}}),n.extend(n.fn,{zscore:function(n,r){return(n-this.mean())/this.stdev(r)},ztest:function(t,e,o){var a=r.abs(this.zscore(t,o));return 1===e?n.normal.cdf(-a,0,1):2*n.normal.cdf(-a,0,1)}}),n.extend({tscore:function(){var e=t.call(arguments);return 4===e.length?(e[0]-e[1])/(e[2]/r.sqrt(e[3])):(e[0]-n.mean(e[1]))/(n.stdev(e[1],!0)/r.sqrt(e[1].length))},ttest:function(){var o,a=t.call(arguments);return 5===a.length?(o=r.abs(n.tscore(a[0],a[1],a[2],a[3])),1===a[4]?n.studentt.cdf(-o,a[3]-1):2*n.studentt.cdf(-o,a[3]-1)):e(a[1])?(o=r.abs(a[0]),1==a[2]?n.studentt.cdf(-o,a[1]-1):2*n.studentt.cdf(-o,a[1]-1)):(o=r.abs(n.tscore(a[0],a[1])),1==a[2]?n.studentt.cdf(-o,a[1].length-1):2*n.studentt.cdf(-o,a[1].length-1))}}),n.extend(n.fn,{tscore:function(n){return(n-this.mean())/(this.stdev(!0)/r.sqrt(this.cols()))},ttest:function(t,e){return 1===e?1-n.studentt.cdf(r.abs(this.tscore(t)),this.cols()-1):2*n.studentt.cdf(-r.abs(this.tscore(t)),this.cols()-1)}}),n.extend({anovafscore:function(){var e,o,a,i,u,f,c,l=t.call(arguments);if(1===l.length){u=new Array(l[0].length);for(var s=0;s<l[0].length;s++)u[s]=l[0][s];l=u}if(2===l.length)return n.variance(l[0])/n.variance(l[1]);for(o=new Array,s=0;s<l.length;s++)o=o.concat(l[s]);for(a=n.mean(o),e=0,s=0;s<l.length;s++)e+=l[s].length*r.pow(n.mean(l[s])-a,2);for(e/=l.length-1,f=0,s=0;s<l.length;s++)for(i=n.mean(l[s]),c=0;c<l[s].length;c++)f+=r.pow(l[s][c]-i,2);return e/(f/=o.length-l.length)},anovaftest:function(){var r,o,a,i=t.call(arguments);if(e(i[0]))return 1-n.centralF.cdf(i[0],i[1],i[2]);anovafscore=n.anovafscore(i),r=i.length-1,a=0;for(var u=0;u<i.length;u++)a+=i[u].length;return o=a-r-1,1-n.centralF.cdf(anovafscore,r,o)},ftest:function(r,t,e){return 1-n.centralF.cdf(r,t,e)}}),n.extend(n.fn,{anovafscore:function(){return n.anovafscore(this.toArray())},anovaftes:function(){for(var r=0,t=0;t<this.length;t++)r+=this[t].length;return n.ftest(this.anovafscore(),this.length-1,r-this.length)}}),n.extend({qscore:function(){var o,a,i,u,f,c=t.call(arguments);return e(c[0])?(o=c[0],a=c[1],i=c[2],u=c[3],f=c[4]):(o=n.mean(c[0]),a=n.mean(c[1]),i=c[0].length,u=c[1].length,f=c[2]),r.abs(o-a)/(f*r.sqrt((1/i+1/u)/2))},qtest:function(){var r,e=t.call(arguments);3===e.length?(r=e[0],e=e.slice(1)):7===e.length?(r=n.qscore(e[0],e[1],e[2],e[3],e[4]),e=e.slice(5)):(r=n.qscore(e[0],e[1],e[2]),e=e.slice(3));var o=e[0],a=e[1];return 1-n.tukey.cdf(r,a,o-a)},tukeyhsd:function(r){for(var t=n.pooledstdev(r),e=r.map(function(r){return n.mean(r)}),o=r.reduce(function(n,r){return n+r.length},0),a=[],i=0;i<r.length;++i)for(var u=i+1;u<r.length;++u){var f=n.qtest(e[i],e[u],r[i].length,r[u].length,t,o,r.length);a.push([[i,u],f])}return a}}),n.extend({normalci:function(){var e,o=t.call(arguments),a=new Array(2);return e=4===o.length?r.abs(n.normal.inv(o[1]/2,0,1)*o[2]/r.sqrt(o[3])):r.abs(n.normal.inv(o[1]/2,0,1)*n.stdev(o[2])/r.sqrt(o[2].length)),a[0]=o[0]-e,a[1]=o[0]+e,a},tci:function(){var e,o=t.call(arguments),a=new Array(2);return e=4===o.length?r.abs(n.studentt.inv(o[1]/2,o[3]-1)*o[2]/r.sqrt(o[3])):r.abs(n.studentt.inv(o[1]/2,o[2].length-1)*n.stdev(o[2],!0)/r.sqrt(o[2].length)),a[0]=o[0]-e,a[1]=o[0]+e,a},significant:function(n,r){return n<r}}),n.extend(n.fn,{normalci:function(r,t){return n.normalci(r,t,this.toArray())},tci:function(r,t){return n.tci(r,t,this.toArray())}}),n.extend(n.fn,{oneSidedDifferenceOfProportions:function(r,t,e,o){var i=a(r,t,e,o);return n.ztest(i,1)},twoSidedDifferenceOfProportions:function(r,t,e,o){var i=a(r,t,e,o);return n.ztest(i,2)}})}(n,Math),n.models=function(){function r(r,t){var e=r.length,o=t[0].length-1,a=e-o-1,i=n.lstsq(t,r),u=n.multiply(t,i.map(function(n){return[n]})).map(function(n){return n[0]}),f=n.subtract(r,u),c=n.mean(r),l=n.sum(u.map(function(n){return Math.pow(n-c,2)})),s=n.sum(r.map(function(n,r){return Math.pow(n-u[r],2)})),m=l+s;return{exog:t,endog:r,nobs:e,df_model:o,df_resid:a,coef:i,predict:u,resid:f,ybar:c,SST:m,SSE:l,SSR:s,R2:l/m}}function t(t){var e=function(t){var e=t[0].length;return n.arange(e).map(function(o){var a=n.arange(e).filter(function(n){return n!==o});return r(n.col(t,o).map(function(n){return n[0]}),n.col(t,a))})}(t.exog),o=Math.sqrt(t.SSR/t.df_resid),a=e.map(function(n){var r=n.SST,t=n.R2;return o/Math.sqrt(r*(1-t))}),i=t.coef.map(function(n,r){return(n-0)/a[r]}),u=i.map(function(r){var e=n.studentt.cdf(r,t.df_resid);return 2*(e>.5?1-e:e)}),f=n.studentt.inv(.975,t.df_resid),c=t.coef.map(function(n,r){var t=f*a[r];return[n-t,n+t]});return{se:a,t:i,p:u,sigmaHat:o,interval95:c}}return{ols:function(e,o){var a=r(e,o),i=t(a),u=function(r){var t=r.R2/r.df_model/((1-r.R2)/r.df_resid);return{F_statistic:t,pvalue:1-function(r,t,e){return n.beta.cdf(r/(e/t+r),t/2,e/2)}(t,r.df_model,r.df_resid)}}(a),f=1-(1-a.R2)*((a.nobs-1)/a.df_resid);return a.t=i,a.f=u,a.adjust_R2=f,a}}}(),n.jStat=n,n}()},17:function(n,r,t){"use strict";let e={hue:["#b5bae6","#d1abe6","#e6abd0","#e6bcb5","#dee2b5","#b5e2b5","#b5e2df"],chroma:["#d7d6e6","#b5bbe6","#919fe6","#6d84e6","#4769e6","#1d4de6"],value:["#b5bbe6","#9090b8","#6b6688","#443c56","#18121e"],bodyBack:"#eee"};e.bodyBackAlt=e.value[0],e.inactive=e.value[2],e.lightText=e.value[3],e.bodyText=e.value[4],e.noteBack=e.hue[4],e.menu=e.hue[5],r.a=e},173:function(n,r,t){"use strict";t.r(r);t(42);var e,o,a,i=t(1),u=t.n(i),f=t(11),c=t.n(f),l=t(17),s=function(n){var r=n.length,t=c.a.min(n),e=c.a.max(n),o=Math.ceil(Math.sqrt(r)),a=(e-t)/o;if(e-t==0)return[[n[0],r]];for(var i=[],u=0;u<o;u++)i.push([t+u*a+a/2,0]);for(u=0;u<r;u++){i[n[u]===e?o-1:Math.floor((n[u]-t)/a)][1]++}for(u=0;u<o;u++)i[u][1]=i[u][1]/r/a;return i},m=function(n,r){for(var t=[],e=0,o=n.length;e<o;e++)t.push(n[e][r]);return t},p={twoDArrayCol:m,histogramCounts:s,sampleFunc:function(n,r,t){for(var e=(r-n)/200,o=[],a=n;a<r;a+=e)o.push([a,t(a)]);return o.push([r,t(r)]),o},xHistLims:function(n){var r=[].concat.apply([],n);return[c.a.min(r),c.a.max(r)]},yHistLims:function(n){for(var r=[],t=0,e=n.length;t<e;t++)r=r.concat(m(s(n[t]),1));return[.8*c.a.min(r),1.2*c.a.max(r)]},getHeight:function(n,r){for(var t=0;!(n>r[t][0]&&n<r[t+1][0]);)t++;return r[t][1]}},d=[-1,1],h=function(n,r,t,e){var o=e[0],a=(n-o)/(e[1]-o);return c.a.beta.pdf(a,r,t)},g=function(n){for(var r=function(n,r){return Math.floor(Math.random()*(r-n))+n},t=n.length,e=[],o=0;o<10;o++){var a=n[r(0,t)];e.push(p.sampleFunc(-1,1,function(n){return h(n,a[0],a[1],d)}))}return e},v=function(n,r,t,i,u){var f=function(n){s.burn(500),n>0?(i(.45*(1-500*n/t)),e=setTimeout(function(){f(n-1)},0)):(o=s.n_samples_asynch(r,50),l())},l=function(){if(s.running_asynch()){var n=1-s.samples_left()/r;i(.45+.45*n),a=setTimeout(l,0)}else u(s.chain())};clearTimeout(e),clearTimeout(o),clearTimeout(a);var s=function(n,t){for(var e=n.length,o=0,a=[],i=n,u=[],f=[],l=0;l<e;l++)u[l]=0,f[l]=0;var s=function(){a.push(i.concat(function(n){return d[0]+c.a.beta.mean(n[0],n[1])*(d[1]-d[0])}(i)));for(var n=0;n<e;n++){var r=c.a.normal.sample(i[n],Math.exp(u[n])),l=i.slice();l[n]=r,Math.exp(t(l)-t(i))>Math.random()&&(f[n]++,i=l)}if(a.length%50==0)for(o++,n=0;n<e;n++)f[n]/50>.44?u[n]+=Math.min(.01,1/Math.sqrt(o)):f[n]/50<.44&&(u[n]-=Math.min(.01,1/Math.sqrt(o))),f[n]=0;return i},m=function(n){for(var r=0;r<n-1;r++)s();return s()},p=!1,h=r,g=function(n,r){return h=n,n>0?(p=!0,m(r),setTimeout(function(){g(n-r,r)},0)):(p=!1,null)};return{chain:function(){return a},running_asynch:function(){return p},burn:function(n){var r=a.slice();m(n),a=r},n_samples:m,samples_left:function(){return h},n_samples_asynch:g}}([1,1],function(n){return function(r){var t=r[0],e=r[1],o=0;o+=Math.log(c.a.exponential.pdf(t,1)),o+=Math.log(c.a.exponential.pdf(e,1));for(var a=0,i=n.length;a<i;a++)o+=Math.log(h(n[a],t,e,d));return o}}(n));f(Math.ceil(t/500))};const w={font:{size:8},shadowSize:0,yaxis:{tickLength:5},xaxis:{tickLength:5},legend:{backgroundColor:"rgba(0, 0, 0, 0)",color:l.a.bodyText},grid:{backgroundColor:null,color:l.a.bodyText},colors:l.a.chroma.slice(1)},y=[-1,1],b=(n,r,t,e=[])=>{let o,a=u.a.extend(!0,{},w);const i=[];if(!0===t.log){const n={ticks:[0,.01,.1,1,10,100],transform:n=>Math.log(n+.001),inverseTransform:n=>Math.exp(n),tickDecimals:2};u.a.extend(a.xaxis,n),u.a.extend(a.yaxis,n)}const f=([n,r])=>!0===t.log?{min:n/2,max:2*r}:{min:n,max:r};if("object"==typeof t.xlims&&null!==t.xlims&&u.a.extend(a.xaxis,f(t.xlims)),"object"==typeof t.ylims&&null!==t.ylims&&u.a.extend(a.yaxis,f(t.ylims)),0!==e.length&&(e.forEach(n=>{i.push({data:n,color:"rgba(165, 170, 204, 0.7)"})}),i[0].label="Posterior Prediction"),0!==r.length){const n=(o=p.histogramCounts(r)).length>1?o[1][0]-o[0][0]:.05;i.push({data:o,bars:{show:!0,align:"center",barWidth:n},color:1})}if("number"==typeof t.compValue){const n=((n,r)=>{const t=c.a.mean(c.a.map(r,r=>r>=n?1:0));return[1-t,t]})(t.compValue,r);i.push({data:[[t.compValue,0],[t.compValue,1/0]],label:(100*n[0]).toPrecision(3)+"% < "+t.compValue+" < "+(100*n[1]).toPrecision(3)+"%",lines:{lineWidth:2},color:2})}if(void 0!==t.di&&null!==t.di){const n=(n,[r,e])=>{i.push({data:[[r,p.getHeight(r===y[0]?e:r,o)],[e,p.getHeight(e===y[1]?r:e,o)]],label:n.toPrecision(2).slice(2)+"% "+t.di+" ("+r.toPrecision(3)+", "+e.toPrecision(3)+")",lines:{lineWidth:5},color:3})};"BI"===t.di?[.95,.99].forEach(t=>{n(t,((n,r)=>{r=r.sort((n,r)=>n-r);const t=Math.floor(r.length*n),e=[r[r.length-1-t],y[1]],o=[y[0],r[t]];return-e[0]<o[1]?e:o})(t,r))}):[.95].forEach(t=>{n(t,((n,r)=>{r=r.sort((n,r)=>n-r);const t=Math.floor(r.length*n);let e,[o,a]=[c.a.min(r),c.a.max(r)];for(let n=0,i=r.length-t;n<i;n++)(e=r[n+t]-r[n])<a-o&&([o,a]=[r[n],r[n+t]]);return[o,a]})(t,r))})}if(void 0!==r.length&&0!==r.length){const n=c.a.mean(r);i.push({data:[[n,0]],label:"Mean: "+n.toPrecision(3),points:{show:!0},color:4})}return u.a.plot(n,i,a)},x=n=>{const r=n.length,t=r-1;if(r<30)return void alert("We need at least 30 votes for this calculation. You need at least "+(30-r)+" more.");const e=c.a.mean(n),o=c.a.stdev(n),a=p.sampleFunc(-1,1,n=>c.a.studentt.pdf((e-n)/o*Math.sqrt(r),t)),i=[{data:a,lines:{show:!0},color:1},{data:[[e,0]],label:"Mean: "+e.toPrecision(3),points:{show:!0},color:4}];[.95,.99].forEach(n=>{const[a,u,f]=(n=>{const a=c.a.studentt.inv(n,t)*o/Math.sqrt(r),i=c.a.studentt.pdf(c.a.studentt.inv(n,t),t);return e>0?[i,e-a,1/0]:[i,-1/0,e+a]})(n);i.push({data:[[u,a],[f,a]],label:n.toPrecision(2).slice(2)+"% CI ("+u.toPrecision(3)+", "+f.toPrecision(3)+")",lines:{lineWidth:5},color:3})}),u()("#stat-out").show(),u.a.plot(u()("#freq > div"),i,w),u()("progress").attr("value",1)},q=n=>{const r=n=>(n=n.replace(/[^-1234567890.]+$/,"").replace(/^[^-1234567890.]+/,""),c.a.map(n.split(/[^-1234567890.]+/),n=>{const r=parseFloat(n);if(isNaN(r))throw Error("NaN");return r<=0?.001:r>=1?.999:r}));let t,e;try{t=r(u()("#data1").val()),e=r(u()("#data2").val())}catch(n){return alert("ERROR: Data not supplied for both groups or not formatted correctly."),null}const o=e.length-t.length;if(0!==o&&!0===n){const n=" Since we're supposed to pair data, that's bad.";return o>0?(alert("You have "+o+" more data points for Proposal 2 than for Proposal 1."+n),null):(alert("You have "+-o+" more data points for Proposal 1 than for Proposal 2."+n),null)}const a=[],i=Math.min(t.length,e.length);for(let n=0;n<i;n++)a.push(e[n]-t[n]);return[t,e,a]},_=n=>{const r=q();if(void 0===r)return;const t=p.yHistLims(r);b(u()("#preview1 > div"),r[0],{xlims:[0,1],ylims:t}),b(u()("#preview2 > div"),r[1],{xlims:[0,1],ylims:t}),b(u()("#diff > div"),r[2],{xlims:[-1,1]},n)};u()(()=>{u()(".act > .analyze").click(()=>{const n=q(!0);void 0!==n&&(u()("#best").parent().hasClass("open")?(n=>{const r=n=>{u()("progress").attr("value",n)};u()(".analyze").html("Re-analyze"),v(n,2e4,2e4,r,n=>{_(g(n)),r(.925),u()("#stat-out").show(),b(u()("#mean > div"),p.twoDArrayCol(n,2),{di:"BI",comp:0,xlims:[-1,1]}),r(.95);const t=p.twoDArrayCol(n,0),e=p.twoDArrayCol(n,1),o=p.xHistLims([t,e]),a=p.yHistLims([t,e]);b(u()("#alpha > div"),t,{di:"HDI",xlims:o,ylims:a,log:!0}),r(.975),b(u()("#beta > div"),e,{di:"HDI",xlims:o,ylims:a,log:!0}),r(1)})})(n[2]):x(n[2]))}),u()(".preview").click(()=>{_()}),setTimeout(function(){_()});const n={grid:{show:!1},colors:[l.a.value[3]]};u.a.plot(u()("#non-norm"),[{bars:{show:!0},data:[[-2,4],[-1,1],[0,0],[1,1],[2,4]]}],n),u.a.plot(u()("#sym1"),[{bars:{show:!0},data:[[-2,1],[-1,0],[0,0],[1,2],[2,0]]}],n),u.a.plot(u()("#sym2"),[{bars:{show:!0},data:[[-2,0],[-1,0],[0,3],[1,0],[2,0]]}],n)})}});